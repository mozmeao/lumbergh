{"version":3,"sources":["webpack://wagtail/./node_modules/dateformat/lib/dateformat.js","webpack://wagtail/./node_modules/immer/dist/immer.esm.js","webpack://wagtail/./node_modules/redux/es/redux.js","webpack://wagtail/./node_modules/reselect/es/index.js","webpack://wagtail/./client/src/components/CommentApp/actions/comments.ts","webpack://wagtail/./client/src/components/CommentApp/actions/settings.ts","webpack://wagtail/./client/src/components/CommentApp/components/Comment/index.tsx","webpack://wagtail/./client/src/components/CommentApp/components/CommentHeader/index.tsx","webpack://wagtail/./client/src/components/CommentApp/components/CommentReply/index.tsx","webpack://wagtail/./client/src/components/CommentApp/components/Form/index.tsx","webpack://wagtail/./client/src/components/CommentApp/components/TextArea/index.tsx","webpack://wagtail/./client/src/components/CommentApp/main.tsx","webpack://wagtail/./client/src/components/CommentApp/selectors/index.ts","webpack://wagtail/./client/src/components/CommentApp/state/comments.ts","webpack://wagtail/./client/src/components/CommentApp/state/index.ts","webpack://wagtail/./client/src/components/CommentApp/state/settings.ts","webpack://wagtail/./client/src/components/CommentApp/state/utils.ts","webpack://wagtail/./client/src/components/CommentApp/utils/layout.ts","webpack://wagtail/./client/src/components/CommentApp/utils/maps.ts","webpack://wagtail/./client/src/components/CommentApp/utils/sequences.ts","webpack://wagtail/./client/src/entrypoints/admin/comments.js","webpack://wagtail/webpack/bootstrap","webpack://wagtail/webpack/runtime/compat get default export","webpack://wagtail/webpack/runtime/define property getters","webpack://wagtail/webpack/runtime/global","webpack://wagtail/webpack/runtime/harmony module decorator","webpack://wagtail/webpack/runtime/hasOwnProperty shorthand","webpack://wagtail/webpack/runtime/make namespace object","webpack://wagtail/webpack/runtime/runtimeId","webpack://wagtail/webpack/runtime/jsonp chunk loading","webpack://wagtail/webpack/startup"],"names":["global","token","timezone","timezoneClip","dateFormat","date","mask","utc","gmt","arguments","length","kindOf","test","undefined","Date","isNaN","TypeError","maskSlice","String","masks","slice","_","d","D","m","y","H","M","s","L","o","getTimezoneOffset","W","getWeek","N","getDayOfWeek","flags","dd","pad","ddd","i18n","dayNames","dddd","mm","mmm","monthNames","mmmm","yy","yyyy","h","hh","HH","MM","ss","l","Math","round","t","tt","T","TT","Z","match","pop","replace","floor","abs","S","val","len","targetThursday","getFullYear","getMonth","getDate","setDate","getDay","firstThursday","ds","setHours","getHours","weekDiff","dow","Array","isArray","toString","call","toLowerCase","n","r","e","Error","map","join","Q","Object","getPrototypeOf","hasOwnProperty","constructor","Function","v","i","keys","nn","forEach","u","has","prototype","a","get","f","set","delete","add","c","X","Map","q","Set","p","rn","writable","configurable","enumerable","value","create","clear","freeze","isFrozen","b","tn","U","j","g","O","w","P","x","A","I","k","R","concat","F","z","getOwnPropertyDescriptor","E","C","en","on","Proxy","revocable","revoke","proxy","J","push","K","from","this","defineProperty","min","entries","$","path","op","splice","unshift","JSON","stringify","setPrototypeOf","__proto__","size","values","V","next","done","G","Symbol","B","Reflect","for","iterator","ownKeys","getOwnPropertySymbols","getOwnPropertyNames","getOwnPropertyDescriptors","deleteProperty","apply","un","produce","Promise","then","produceWithPatches","useProxies","setUseProxies","autoFreeze","setAutoFreeze","createDraft","finishDraft","applyPatches","an","fn","cn","bind","sn","vn","pn","ln","dn","randomString","random","substring","split","ActionTypes","INIT","REPLACE","PROBE_UNKNOWN_ACTION","isPlainObject","obj","proto","createStore","reducer","preloadedState","enhancer","_ref2","currentReducer","currentState","currentListeners","nextListeners","isDispatching","ensureCanMutateNextListeners","getState","subscribe","listener","isSubscribed","index","indexOf","dispatch","action","type","listeners","replaceReducer","nextReducer","observable","_ref","outerSubscribe","observer","observeState","unsubscribe","getUndefinedStateErrorMessage","key","actionType","combineReducers","reducers","reducerKeys","finalReducers","shapeAssertionError","finalReducerKeys","assertReducerShape","state","hasChanged","nextState","_i","_key","previousStateForKey","nextStateForKey","errorMessage","bindActionCreator","actionCreator","bindActionCreators","actionCreators","boundActionCreators","_defineProperty","object","enumerableOnly","filter","sym","_objectSpread2","target","source","defineProperties","compose","_len","funcs","arg","reduce","applyMiddleware","middlewares","store","_dispatch","middlewareAPI","chain","middleware","defaultEqualityCheck","areArgumentsShallowlyEqual","equalityCheck","prev","defaultMemoize","func","lastArgs","lastResult","getDependencies","dependencies","every","dep","dependencyTypes","createSelectorCreator","memoize","memoizeOptions","_len2","_key2","recomputations","resultFunc","memoizedResultFunc","selector","params","resetRecomputations","createSelector","createStructuredSelector","selectors","selectorCreator","objectKeys","_len3","_key3","composition","addComment","comment","exports","ADD_COMMENT","updateComment","commentId","update","UPDATE_COMMENT","deleteComment","DELETE_COMMENT","resolveComment","RESOLVE_COMMENT","setFocusedComment","_a","_b","updatePinnedComment","forceFocus","SET_FOCUSED_COMMENT","addReply","reply","ADD_REPLY","updateReply","replyId","UPDATE_REPLY","deleteReply","DELETE_REPLY","invalidateContentPath","contentPath","INVALIDATE_CONTENT_PATH","__esModule","commentActionFunctions","SET_PINNED_COMMENT","updateGlobalSettings","UPDATE_GLOBAL_SETTINGS","extendStatics","__extends","__","__awaiter","thisArg","_arguments","generator","resolve","reject","fulfilled","step","rejected","result","__generator","body","label","sent","trys","ops","verb","__values","__importDefault","mod","react_1","react_dom_1","focus_trap_react_1","Icon_1","comments_1","comments_2","sequences_1","CommentReply_1","CommentHeader_1","TextArea_1","saveComment","localId","mode","text","newText","remoteId","author","err","console","error","doDeleteComment","doResolveComment","CommentComponent","_super","renderReplies","e_1","_this","_d","hideNewReply","_e","props","isFocused","user","strings","createElement","Fragment","replies","replyBeingEdited","_f","_g","deleted","e_1_1","newReplyHidden","replyForm","newReply","onSubmit","preventDefault","getNextReplyId","newCommentReply","now","className","placeholder","onChange","disabled","REPLY","onClick","stopPropagation","CANCEL","renderCreating","descriptionId","CommentHeader","commentReply","focused","focusTarget","additionalAttributes","COMMENT","renderEditing","SAVE","renderSaving","SAVING","renderSaveError","SAVE_ERROR","RETRY","renderDeleteConfirm","CONFIRM_DELETE_COMMENT","DELETE","renderDeleting","DELETING","renderDeleteError","DELETE_ERROR","renderDefault","onEdit","onDelete","id","notice","originalText","SAVE_PAGE_TO_SAVE_COMMENT_CHANGES","SAVE_PAGE_TO_ADD_COMMENT","onResolve","role","name","render","inner","top","layout","getCommentPosition","focusTrapOptions","preventScroll","clickOutsideDeactivates","onDeactivate","initialFocus","active","tabIndex","includes","style","position","display","isVisible","onDoubleClick","componentDidMount","element","findDOMNode","HTMLElement","setCommentElement","setCommentHeight","offsetHeight","componentWillUnmount","componentDidUpdate","Component","__assign","assign","__createBinding","k2","__setModuleDefault","__importStar","__rest","propertyIsEnumerable","__read","ar","dateformat_1","wagtailConfig_1","Details","children","open","extraProps","IS_IE11","Summary","useState","menuOpen","setMenuOpen","useEffect","menuRef","useRef","menuContainerRef","toggleMenu","setTimeout","current","focus","handleClickOutside","Node","contains","document","addEventListener","removeEventListener","ref","MORE_ACTIONS","EDIT","RESOLVE","avatarUrl","src","saveCommentReply","deleteCommentReply","CommentReplyComponent","SAVE_PAGE_TO_SAVE_REPLY","CommentFormSetComponent","CommentFormComponent","CommentReplyFormSetComponent","CommentReplyFormComponent","PrefixedHiddenInput","prefix","fieldName","formNumber","fullPrefix","remoteReplyCount","commentForms","resolved","contentpath","comments","remoteCommentCount","TextArea","forwardRef","focusOnMount","_c","textAreaElement","useImperativeHandle","height","scrollHeight","rows","resize","overflowY","initCommentApp","CommentApp","defaultStrings","redux_1","layout_1","maps_1","state_1","settings_1","selectors_1","Comment_1","Form_1","settings_2","SHOW_COMMENTS","getAuthor","authors","authorData","getOrDefault","avatar_url","renderCommentsUi","settings","commentsEnabled","currentTab","focusedComment","commentsToRender","commentsRendered","getCommentVisible","utils","selectCommentsForContentPathFactory","selectCommentFactory","selectComments","selectEnabled","selectFocused","selectIsDirty","selectCommentCount","actions","INITIAL_STATE","LayoutController","setUser","userId","updateAnnotation","annotation","attachAnnotationLayout","setCommentAnnotation","setCurrentTab","tab","makeComment","getNextCommentId","newComment","setVisible","visible","renderApp","outputElement","initialComments","translationStrings","e_2","pinnedComment","initialFocusedCommentId","commentParams","URLSearchParams","window","location","search","parseInt","commentList","setPinnedComment","refreshDesiredPositions","refreshLayout","initialComments_1","initialComments_1_1","parse","created_at","pk","e_2_1","closest","__spreadArray","to","il","selectRemoteCommentCount","reselect_1","some","utils_1","immer_1","enableES5","enableMapSet","draft","startsWith","base","updatePartial","commentElements","commentAnnotations","commentTabs","commentDesiredPositions","commentHeights","commentCalculatedPositions","isDirty","getTab","updateDesiredPosition","currentNodeTop","getAnchorNode","getBoundingClientRect","documentElement","scrollTop","oldDesiredPositions","getCommentTabVisible","allBlocks","containsPinnedComment","pinnedCommentPosition","blocksByTab","block","blocks","pinnedCommentTab","pinnedCommentOnThisTab","sort","comparisonBlock","currentBlocks","overlaps","newBlocks","previousBlock","currentBlocks_1","currentBlocks_1_1","TOP_MARGIN","currentPosition","defaultValue","nextCommentId","nextReplyId","main_1","commentApp","isCommentShortcut","ctrlKey","metaKey","altKey","keyCode","getContentPath","fieldNode","contentpaths","dataset","parentElement","reverse","BasicFieldLevelAnnotation","node","subscribeToUpdates","selectComment","initialState","shown","onFocus","show","nowFocused","onUnfocus","hide","setOnClickHandler","remove","parentNode","removeChild","classList","ariaLabel","STRINGS","UNFOCUS_COMMENT","FOCUS_COMMENT","getAttribute","FieldLevelCommentWidget","commentAdditionNode","annotationTemplateNode","register","currentlyEnabled","selectCommentsForContentPath","currentComments","updateVisibility","unsubscribeWidget","newComments","newEnabled","commentsChanged","enabledChanged","getAnnotationForComment","newShown","annotationNode","cloneNode","insertAdjacentElement","initAddCommentButton","buttonElement","widget","querySelector","initCommentsInterface","formElement","commentsElement","getElementById","commentsOutputElement","dataElement","data","textContent","querySelectorAll","tabNavElement","detail","commentToggleWrapper","commentToggle","tabContentElement","commentNotificationsToggleButton","commentNotificationsDropdown","updateCommentVisibility","toggle","checked","commentCounter","updateCommentCount","commentCount","innerText","__webpack_module_cache__","__webpack_require__","moduleId","module","loaded","__webpack_modules__","getter","definition","globalThis","hmd","prop","toStringTag","installedChunks","324","deferredModules","checkDeferredModules","webpackJsonpCallback","parentChunkLoadingFunction","chunkId","chunkIds","moreModules","runtime","executeModules","resolves","shift","chunkLoadingGlobal","self","checkDeferredModulesImpl","deferredModule","depId","startup"],"mappings":"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","file":"wagtail/admin/static/wagtailadmin/js/comments.js","sourcesContent":["/*\r\n * Date Format 1.2.3\r\n * (c) 2007-2009 Steven Levithan <stevenlevithan.com>\r\n * MIT license\r\n *\r\n * Includes enhancements by Scott Trenda <scott.trenda.net>\r\n * and Kris Kowal <cixar.com/~kris.kowal/>\r\n *\r\n * Accepts a date, a mask, or a date and a mask.\r\n * Returns a formatted version of the given date.\r\n * The date defaults to the current date/time.\r\n * The mask defaults to dateFormat.masks.default.\r\n */\r\n\r\n(function(global) {\r\n  'use strict';\r\n\r\n  var dateFormat = (function() {\r\n      var token = /d{1,4}|m{1,4}|yy(?:yy)?|([HhMsTt])\\1?|[LloSZWN]|'[^']*'|'[^']*'/g;\r\n      var timezone = /\\b(?:[PMCEA][SDP]T|(?:Pacific|Mountain|Central|Eastern|Atlantic) (?:Standard|Daylight|Prevailing) Time|(?:GMT|UTC)(?:[-+]\\d{4})?)\\b/g;\r\n      var timezoneClip = /[^-+\\dA-Z]/g;\r\n  \r\n      // Regexes and supporting functions are cached through closure\r\n      return function (date, mask, utc, gmt) {\r\n  \r\n        // You can't provide utc if you skip other args (use the 'UTC:' mask prefix)\r\n        if (arguments.length === 1 && kindOf(date) === 'string' && !/\\d/.test(date)) {\r\n          mask = date;\r\n          date = undefined;\r\n        }\r\n  \r\n        date = date || new Date;\r\n  \r\n        if(!(date instanceof Date)) {\r\n          date = new Date(date);\r\n        }\r\n  \r\n        if (isNaN(date)) {\r\n          throw TypeError('Invalid date');\r\n        }\r\n  \r\n        mask = String(dateFormat.masks[mask] || mask || dateFormat.masks['default']);\r\n  \r\n        // Allow setting the utc/gmt argument via the mask\r\n        var maskSlice = mask.slice(0, 4);\r\n        if (maskSlice === 'UTC:' || maskSlice === 'GMT:') {\r\n          mask = mask.slice(4);\r\n          utc = true;\r\n          if (maskSlice === 'GMT:') {\r\n            gmt = true;\r\n          }\r\n        }\r\n  \r\n        var _ = utc ? 'getUTC' : 'get';\r\n        var d = date[_ + 'Date']();\r\n        var D = date[_ + 'Day']();\r\n        var m = date[_ + 'Month']();\r\n        var y = date[_ + 'FullYear']();\r\n        var H = date[_ + 'Hours']();\r\n        var M = date[_ + 'Minutes']();\r\n        var s = date[_ + 'Seconds']();\r\n        var L = date[_ + 'Milliseconds']();\r\n        var o = utc ? 0 : date.getTimezoneOffset();\r\n        var W = getWeek(date);\r\n        var N = getDayOfWeek(date);\r\n        var flags = {\r\n          d:    d,\r\n          dd:   pad(d),\r\n          ddd:  dateFormat.i18n.dayNames[D],\r\n          dddd: dateFormat.i18n.dayNames[D + 7],\r\n          m:    m + 1,\r\n          mm:   pad(m + 1),\r\n          mmm:  dateFormat.i18n.monthNames[m],\r\n          mmmm: dateFormat.i18n.monthNames[m + 12],\r\n          yy:   String(y).slice(2),\r\n          yyyy: y,\r\n          h:    H % 12 || 12,\r\n          hh:   pad(H % 12 || 12),\r\n          H:    H,\r\n          HH:   pad(H),\r\n          M:    M,\r\n          MM:   pad(M),\r\n          s:    s,\r\n          ss:   pad(s),\r\n          l:    pad(L, 3),\r\n          L:    pad(Math.round(L / 10)),\r\n          t:    H < 12 ? 'a'  : 'p',\r\n          tt:   H < 12 ? 'am' : 'pm',\r\n          T:    H < 12 ? 'A'  : 'P',\r\n          TT:   H < 12 ? 'AM' : 'PM',\r\n          Z:    gmt ? 'GMT' : utc ? 'UTC' : (String(date).match(timezone) || ['']).pop().replace(timezoneClip, ''),\r\n          o:    (o > 0 ? '-' : '+') + pad(Math.floor(Math.abs(o) / 60) * 100 + Math.abs(o) % 60, 4),\r\n          S:    ['th', 'st', 'nd', 'rd'][d % 10 > 3 ? 0 : (d % 100 - d % 10 != 10) * d % 10],\r\n          W:    W,\r\n          N:    N\r\n        };\r\n  \r\n        return mask.replace(token, function (match) {\r\n          if (match in flags) {\r\n            return flags[match];\r\n          }\r\n          return match.slice(1, match.length - 1);\r\n        });\r\n      };\r\n    })();\r\n\r\n  dateFormat.masks = {\r\n    'default':               'ddd mmm dd yyyy HH:MM:ss',\r\n    'shortDate':             'm/d/yy',\r\n    'mediumDate':            'mmm d, yyyy',\r\n    'longDate':              'mmmm d, yyyy',\r\n    'fullDate':              'dddd, mmmm d, yyyy',\r\n    'shortTime':             'h:MM TT',\r\n    'mediumTime':            'h:MM:ss TT',\r\n    'longTime':              'h:MM:ss TT Z',\r\n    'isoDate':               'yyyy-mm-dd',\r\n    'isoTime':               'HH:MM:ss',\r\n    'isoDateTime':           'yyyy-mm-dd\\'T\\'HH:MM:sso',\r\n    'isoUtcDateTime':        'UTC:yyyy-mm-dd\\'T\\'HH:MM:ss\\'Z\\'',\r\n    'expiresHeaderFormat':   'ddd, dd mmm yyyy HH:MM:ss Z'\r\n  };\r\n\r\n  // Internationalization strings\r\n  dateFormat.i18n = {\r\n    dayNames: [\r\n      'Sun', 'Mon', 'Tue', 'Wed', 'Thu', 'Fri', 'Sat',\r\n      'Sunday', 'Monday', 'Tuesday', 'Wednesday', 'Thursday', 'Friday', 'Saturday'\r\n    ],\r\n    monthNames: [\r\n      'Jan', 'Feb', 'Mar', 'Apr', 'May', 'Jun', 'Jul', 'Aug', 'Sep', 'Oct', 'Nov', 'Dec',\r\n      'January', 'February', 'March', 'April', 'May', 'June', 'July', 'August', 'September', 'October', 'November', 'December'\r\n    ]\r\n  };\r\n\r\nfunction pad(val, len) {\r\n  val = String(val);\r\n  len = len || 2;\r\n  while (val.length < len) {\r\n    val = '0' + val;\r\n  }\r\n  return val;\r\n}\r\n\r\n/**\r\n * Get the ISO 8601 week number\r\n * Based on comments from\r\n * http://techblog.procurios.nl/k/n618/news/view/33796/14863/Calculate-ISO-8601-week-and-year-in-javascript.html\r\n *\r\n * @param  {Object} `date`\r\n * @return {Number}\r\n */\r\nfunction getWeek(date) {\r\n  // Remove time components of date\r\n  var targetThursday = new Date(date.getFullYear(), date.getMonth(), date.getDate());\r\n\r\n  // Change date to Thursday same week\r\n  targetThursday.setDate(targetThursday.getDate() - ((targetThursday.getDay() + 6) % 7) + 3);\r\n\r\n  // Take January 4th as it is always in week 1 (see ISO 8601)\r\n  var firstThursday = new Date(targetThursday.getFullYear(), 0, 4);\r\n\r\n  // Change date to Thursday same week\r\n  firstThursday.setDate(firstThursday.getDate() - ((firstThursday.getDay() + 6) % 7) + 3);\r\n\r\n  // Check if daylight-saving-time-switch occurred and correct for it\r\n  var ds = targetThursday.getTimezoneOffset() - firstThursday.getTimezoneOffset();\r\n  targetThursday.setHours(targetThursday.getHours() - ds);\r\n\r\n  // Number of weeks between target Thursday and first Thursday\r\n  var weekDiff = (targetThursday - firstThursday) / (86400000*7);\r\n  return 1 + Math.floor(weekDiff);\r\n}\r\n\r\n/**\r\n * Get ISO-8601 numeric representation of the day of the week\r\n * 1 (for Monday) through 7 (for Sunday)\r\n * \r\n * @param  {Object} `date`\r\n * @return {Number}\r\n */\r\nfunction getDayOfWeek(date) {\r\n  var dow = date.getDay();\r\n  if(dow === 0) {\r\n    dow = 7;\r\n  }\r\n  return dow;\r\n}\r\n\r\n/**\r\n * kind-of shortcut\r\n * @param  {*} val\r\n * @return {String}\r\n */\r\nfunction kindOf(val) {\r\n  if (val === null) {\r\n    return 'null';\r\n  }\r\n\r\n  if (val === undefined) {\r\n    return 'undefined';\r\n  }\r\n\r\n  if (typeof val !== 'object') {\r\n    return typeof val;\r\n  }\r\n\r\n  if (Array.isArray(val)) {\r\n    return 'array';\r\n  }\r\n\r\n  return {}.toString.call(val)\r\n    .slice(8, -1).toLowerCase();\r\n};\r\n\r\n\r\n\r\n  if (typeof define === 'function' && define.amd) {\r\n    define(function () {\r\n      return dateFormat;\r\n    });\r\n  } else if (typeof exports === 'object') {\r\n    module.exports = dateFormat;\r\n  } else {\r\n    global.dateFormat = dateFormat;\r\n  }\r\n})(this);\r\n","function n(n){for(var r=arguments.length,t=Array(r>1?r-1:0),e=1;e<r;e++)t[e-1]=arguments[e];if(\"production\"!==process.env.NODE_ENV){var i=Y[n],o=i?\"function\"==typeof i?i.apply(null,t):i:\"unknown error nr: \"+n;throw Error(\"[Immer] \"+o)}throw Error(\"[Immer] minified error nr: \"+n+(t.length?\" \"+t.map((function(n){return\"'\"+n+\"'\"})).join(\",\"):\"\")+\". Find the full error at: https://bit.ly/3cXEKWf\")}function r(n){return!!n&&!!n[Q]}function t(n){return!!n&&(function(n){if(!n||\"object\"!=typeof n)return!1;var r=Object.getPrototypeOf(n);if(null===r)return!0;var t=Object.hasOwnProperty.call(r,\"constructor\")&&r.constructor;return\"function\"==typeof t&&Function.toString.call(t)===Z}(n)||Array.isArray(n)||!!n[L]||!!n.constructor[L]||s(n)||v(n))}function e(t){return r(t)||n(23,t),t[Q].t}function i(n,r,t){void 0===t&&(t=!1),0===o(n)?(t?Object.keys:nn)(n).forEach((function(e){t&&\"symbol\"==typeof e||r(e,n[e],n)})):n.forEach((function(t,e){return r(e,t,n)}))}function o(n){var r=n[Q];return r?r.i>3?r.i-4:r.i:Array.isArray(n)?1:s(n)?2:v(n)?3:0}function u(n,r){return 2===o(n)?n.has(r):Object.prototype.hasOwnProperty.call(n,r)}function a(n,r){return 2===o(n)?n.get(r):n[r]}function f(n,r,t){var e=o(n);2===e?n.set(r,t):3===e?(n.delete(r),n.add(t)):n[r]=t}function c(n,r){return n===r?0!==n||1/n==1/r:n!=n&&r!=r}function s(n){return X&&n instanceof Map}function v(n){return q&&n instanceof Set}function p(n){return n.o||n.t}function l(n){if(Array.isArray(n))return Array.prototype.slice.call(n);var r=rn(n);delete r[Q];for(var t=nn(r),e=0;e<t.length;e++){var i=t[e],o=r[i];!1===o.writable&&(o.writable=!0,o.configurable=!0),(o.get||o.set)&&(r[i]={configurable:!0,writable:!0,enumerable:o.enumerable,value:n[i]})}return Object.create(Object.getPrototypeOf(n),r)}function d(n,e){return void 0===e&&(e=!1),y(n)||r(n)||!t(n)?n:(o(n)>1&&(n.set=n.add=n.clear=n.delete=h),Object.freeze(n),e&&i(n,(function(n,r){return d(r,!0)}),!0),n)}function h(){n(2)}function y(n){return null==n||\"object\"!=typeof n||Object.isFrozen(n)}function b(r){var t=tn[r];return t||n(18,r),t}function m(n,r){tn[n]||(tn[n]=r)}function _(){return\"production\"===process.env.NODE_ENV||U||n(0),U}function j(n,r){r&&(b(\"Patches\"),n.u=[],n.s=[],n.v=r)}function g(n){O(n),n.p.forEach(S),n.p=null}function O(n){n===U&&(U=n.l)}function w(n){return U={p:[],l:U,h:n,m:!0,_:0}}function S(n){var r=n[Q];0===r.i||1===r.i?r.j():r.g=!0}function P(r,e){e._=e.p.length;var i=e.p[0],o=void 0!==r&&r!==i;return e.h.O||b(\"ES5\").S(e,r,o),o?(i[Q].P&&(g(e),n(4)),t(r)&&(r=M(e,r),e.l||x(e,r)),e.u&&b(\"Patches\").M(i[Q],r,e.u,e.s)):r=M(e,i,[]),g(e),e.u&&e.v(e.u,e.s),r!==H?r:void 0}function M(n,r,t){if(y(r))return r;var e=r[Q];if(!e)return i(r,(function(i,o){return A(n,e,r,i,o,t)}),!0),r;if(e.A!==n)return r;if(!e.P)return x(n,e.t,!0),e.t;if(!e.I){e.I=!0,e.A._--;var o=4===e.i||5===e.i?e.o=l(e.k):e.o;i(3===e.i?new Set(o):o,(function(r,i){return A(n,e,o,r,i,t)})),x(n,o,!1),t&&n.u&&b(\"Patches\").R(e,t,n.u,n.s)}return e.o}function A(e,i,o,a,c,s){if(\"production\"!==process.env.NODE_ENV&&c===o&&n(5),r(c)){var v=M(e,c,s&&i&&3!==i.i&&!u(i.D,a)?s.concat(a):void 0);if(f(o,a,v),!r(v))return;e.m=!1}if(t(c)&&!y(c)){if(!e.h.F&&e._<1)return;M(e,c),i&&i.A.l||x(e,c)}}function x(n,r,t){void 0===t&&(t=!1),n.h.F&&n.m&&d(r,t)}function z(n,r){var t=n[Q];return(t?p(t):n)[r]}function I(n,r){if(r in n)for(var t=Object.getPrototypeOf(n);t;){var e=Object.getOwnPropertyDescriptor(t,r);if(e)return e;t=Object.getPrototypeOf(t)}}function k(n){n.P||(n.P=!0,n.l&&k(n.l))}function E(n){n.o||(n.o=l(n.t))}function R(n,r,t){var e=s(r)?b(\"MapSet\").N(r,t):v(r)?b(\"MapSet\").T(r,t):n.O?function(n,r){var t=Array.isArray(n),e={i:t?1:0,A:r?r.A:_(),P:!1,I:!1,D:{},l:r,t:n,k:null,o:null,j:null,C:!1},i=e,o=en;t&&(i=[e],o=on);var u=Proxy.revocable(i,o),a=u.revoke,f=u.proxy;return e.k=f,e.j=a,f}(r,t):b(\"ES5\").J(r,t);return(t?t.A:_()).p.push(e),e}function D(e){return r(e)||n(22,e),function n(r){if(!t(r))return r;var e,u=r[Q],c=o(r);if(u){if(!u.P&&(u.i<4||!b(\"ES5\").K(u)))return u.t;u.I=!0,e=F(r,c),u.I=!1}else e=F(r,c);return i(e,(function(r,t){u&&a(u.t,r)===t||f(e,r,n(t))})),3===c?new Set(e):e}(e)}function F(n,r){switch(r){case 2:return new Map(n);case 3:return Array.from(n)}return l(n)}function N(){function t(n,r){var t=s[n];return t?t.enumerable=r:s[n]=t={configurable:!0,enumerable:r,get:function(){var r=this[Q];return\"production\"!==process.env.NODE_ENV&&f(r),en.get(r,n)},set:function(r){var t=this[Q];\"production\"!==process.env.NODE_ENV&&f(t),en.set(t,n,r)}},t}function e(n){for(var r=n.length-1;r>=0;r--){var t=n[r][Q];if(!t.P)switch(t.i){case 5:a(t)&&k(t);break;case 4:o(t)&&k(t)}}}function o(n){for(var r=n.t,t=n.k,e=nn(t),i=e.length-1;i>=0;i--){var o=e[i];if(o!==Q){var a=r[o];if(void 0===a&&!u(r,o))return!0;var f=t[o],s=f&&f[Q];if(s?s.t!==a:!c(f,a))return!0}}var v=!!r[Q];return e.length!==nn(r).length+(v?0:1)}function a(n){var r=n.k;if(r.length!==n.t.length)return!0;var t=Object.getOwnPropertyDescriptor(r,r.length-1);return!(!t||t.get)}function f(r){r.g&&n(3,JSON.stringify(p(r)))}var s={};m(\"ES5\",{J:function(n,r){var e=Array.isArray(n),i=function(n,r){if(n){for(var e=Array(r.length),i=0;i<r.length;i++)Object.defineProperty(e,\"\"+i,t(i,!0));return e}var o=rn(r);delete o[Q];for(var u=nn(o),a=0;a<u.length;a++){var f=u[a];o[f]=t(f,n||!!o[f].enumerable)}return Object.create(Object.getPrototypeOf(r),o)}(e,n),o={i:e?5:4,A:r?r.A:_(),P:!1,I:!1,D:{},l:r,t:n,k:i,o:null,g:!1,C:!1};return Object.defineProperty(i,Q,{value:o,writable:!0}),i},S:function(n,t,o){o?r(t)&&t[Q].A===n&&e(n.p):(n.u&&function n(r){if(r&&\"object\"==typeof r){var t=r[Q];if(t){var e=t.t,o=t.k,f=t.D,c=t.i;if(4===c)i(o,(function(r){r!==Q&&(void 0!==e[r]||u(e,r)?f[r]||n(o[r]):(f[r]=!0,k(t)))})),i(e,(function(n){void 0!==o[n]||u(o,n)||(f[n]=!1,k(t))}));else if(5===c){if(a(t)&&(k(t),f.length=!0),o.length<e.length)for(var s=o.length;s<e.length;s++)f[s]=!1;else for(var v=e.length;v<o.length;v++)f[v]=!0;for(var p=Math.min(o.length,e.length),l=0;l<p;l++)void 0===f[l]&&n(o[l])}}}}(n.p[0]),e(n.p))},K:function(n){return 4===n.i?o(n):a(n)}})}function T(){function e(n){if(!t(n))return n;if(Array.isArray(n))return n.map(e);if(s(n))return new Map(Array.from(n.entries()).map((function(n){return[n[0],e(n[1])]})));if(v(n))return new Set(Array.from(n).map(e));var r=Object.create(Object.getPrototypeOf(n));for(var i in n)r[i]=e(n[i]);return u(n,L)&&(r[L]=n[L]),r}function f(n){return r(n)?e(n):n}var c=\"add\";m(\"Patches\",{$:function(r,t){return t.forEach((function(t){for(var i=t.path,u=t.op,f=r,s=0;s<i.length-1;s++){var v=o(f),p=i[s];0!==v&&1!==v||\"__proto__\"!==p&&\"constructor\"!==p||n(24),\"function\"==typeof f&&\"prototype\"===p&&n(24),\"object\"!=typeof(f=a(f,p))&&n(15,i.join(\"/\"))}var l=o(f),d=e(t.value),h=i[i.length-1];switch(u){case\"replace\":switch(l){case 2:return f.set(h,d);case 3:n(16);default:return f[h]=d}case c:switch(l){case 1:return f.splice(h,0,d);case 2:return f.set(h,d);case 3:return f.add(d);default:return f[h]=d}case\"remove\":switch(l){case 1:return f.splice(h,1);case 2:return f.delete(h);case 3:return f.delete(t.value);default:return delete f[h]}default:n(17,u)}})),r},R:function(n,r,t,e){switch(n.i){case 0:case 4:case 2:return function(n,r,t,e){var o=n.t,s=n.o;i(n.D,(function(n,i){var v=a(o,n),p=a(s,n),l=i?u(o,n)?\"replace\":c:\"remove\";if(v!==p||\"replace\"!==l){var d=r.concat(n);t.push(\"remove\"===l?{op:l,path:d}:{op:l,path:d,value:p}),e.push(l===c?{op:\"remove\",path:d}:\"remove\"===l?{op:c,path:d,value:f(v)}:{op:\"replace\",path:d,value:f(v)})}}))}(n,r,t,e);case 5:case 1:return function(n,r,t,e){var i=n.t,o=n.D,u=n.o;if(u.length<i.length){var a=[u,i];i=a[0],u=a[1];var s=[e,t];t=s[0],e=s[1]}for(var v=0;v<i.length;v++)if(o[v]&&u[v]!==i[v]){var p=r.concat([v]);t.push({op:\"replace\",path:p,value:f(u[v])}),e.push({op:\"replace\",path:p,value:f(i[v])})}for(var l=i.length;l<u.length;l++){var d=r.concat([l]);t.push({op:c,path:d,value:f(u[l])})}i.length<u.length&&e.push({op:\"replace\",path:r.concat([\"length\"]),value:i.length})}(n,r,t,e);case 3:return function(n,r,t,e){var i=n.t,o=n.o,u=0;i.forEach((function(n){if(!o.has(n)){var i=r.concat([u]);t.push({op:\"remove\",path:i,value:n}),e.unshift({op:c,path:i,value:n})}u++})),u=0,o.forEach((function(n){if(!i.has(n)){var o=r.concat([u]);t.push({op:c,path:o,value:n}),e.unshift({op:\"remove\",path:o,value:n})}u++}))}(n,r,t,e)}},M:function(n,r,t,e){t.push({op:\"replace\",path:[],value:r}),e.push({op:\"replace\",path:[],value:n.t})}})}function C(){function r(n,r){function t(){this.constructor=n}a(n,r),n.prototype=(t.prototype=r.prototype,new t)}function e(n){n.o||(n.D=new Map,n.o=new Map(n.t))}function o(n){n.o||(n.o=new Set,n.t.forEach((function(r){if(t(r)){var e=R(n.A.h,r,n);n.p.set(r,e),n.o.add(e)}else n.o.add(r)})))}function u(r){r.g&&n(3,JSON.stringify(p(r)))}var a=function(n,r){return(a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var t in r)r.hasOwnProperty(t)&&(n[t]=r[t])})(n,r)},f=function(){function n(n,r){return this[Q]={i:2,l:r,A:r?r.A:_(),P:!1,I:!1,o:void 0,D:void 0,t:n,k:this,C:!1,g:!1},this}r(n,Map);var o=n.prototype;return Object.defineProperty(o,\"size\",{get:function(){return p(this[Q]).size}}),o.has=function(n){return p(this[Q]).has(n)},o.set=function(n,r){var t=this[Q];return u(t),p(t).has(n)&&p(t).get(n)===r||(e(t),k(t),t.D.set(n,!0),t.o.set(n,r),t.D.set(n,!0)),this},o.delete=function(n){if(!this.has(n))return!1;var r=this[Q];return u(r),e(r),k(r),r.D.set(n,!1),r.o.delete(n),!0},o.clear=function(){var n=this[Q];u(n),p(n).size&&(e(n),k(n),n.D=new Map,i(n.t,(function(r){n.D.set(r,!1)})),n.o.clear())},o.forEach=function(n,r){var t=this;p(this[Q]).forEach((function(e,i){n.call(r,t.get(i),i,t)}))},o.get=function(n){var r=this[Q];u(r);var i=p(r).get(n);if(r.I||!t(i))return i;if(i!==r.t.get(n))return i;var o=R(r.A.h,i,r);return e(r),r.o.set(n,o),o},o.keys=function(){return p(this[Q]).keys()},o.values=function(){var n,r=this,t=this.keys();return(n={})[V]=function(){return r.values()},n.next=function(){var n=t.next();return n.done?n:{done:!1,value:r.get(n.value)}},n},o.entries=function(){var n,r=this,t=this.keys();return(n={})[V]=function(){return r.entries()},n.next=function(){var n=t.next();if(n.done)return n;var e=r.get(n.value);return{done:!1,value:[n.value,e]}},n},o[V]=function(){return this.entries()},n}(),c=function(){function n(n,r){return this[Q]={i:3,l:r,A:r?r.A:_(),P:!1,I:!1,o:void 0,t:n,k:this,p:new Map,g:!1,C:!1},this}r(n,Set);var t=n.prototype;return Object.defineProperty(t,\"size\",{get:function(){return p(this[Q]).size}}),t.has=function(n){var r=this[Q];return u(r),r.o?!!r.o.has(n)||!(!r.p.has(n)||!r.o.has(r.p.get(n))):r.t.has(n)},t.add=function(n){var r=this[Q];return u(r),this.has(n)||(o(r),k(r),r.o.add(n)),this},t.delete=function(n){if(!this.has(n))return!1;var r=this[Q];return u(r),o(r),k(r),r.o.delete(n)||!!r.p.has(n)&&r.o.delete(r.p.get(n))},t.clear=function(){var n=this[Q];u(n),p(n).size&&(o(n),k(n),n.o.clear())},t.values=function(){var n=this[Q];return u(n),o(n),n.o.values()},t.entries=function(){var n=this[Q];return u(n),o(n),n.o.entries()},t.keys=function(){return this.values()},t[V]=function(){return this.values()},t.forEach=function(n,r){for(var t=this.values(),e=t.next();!e.done;)n.call(r,e.value,e.value,this),e=t.next()},n}();m(\"MapSet\",{N:function(n,r){return new f(n,r)},T:function(n,r){return new c(n,r)}})}function J(){N(),C(),T()}function K(n){return n}function $(n){return n}var G,U,W=\"undefined\"!=typeof Symbol&&\"symbol\"==typeof Symbol(\"x\"),X=\"undefined\"!=typeof Map,q=\"undefined\"!=typeof Set,B=\"undefined\"!=typeof Proxy&&void 0!==Proxy.revocable&&\"undefined\"!=typeof Reflect,H=W?Symbol.for(\"immer-nothing\"):((G={})[\"immer-nothing\"]=!0,G),L=W?Symbol.for(\"immer-draftable\"):\"__$immer_draftable\",Q=W?Symbol.for(\"immer-state\"):\"__$immer_state\",V=\"undefined\"!=typeof Symbol&&Symbol.iterator||\"@@iterator\",Y={0:\"Illegal state\",1:\"Immer drafts cannot have computed properties\",2:\"This object has been frozen and should not be mutated\",3:function(n){return\"Cannot use a proxy that has been revoked. Did you pass an object from inside an immer function to an async process? \"+n},4:\"An immer producer returned a new value *and* modified its draft. Either return a new value *or* modify the draft.\",5:\"Immer forbids circular references\",6:\"The first or second argument to `produce` must be a function\",7:\"The third argument to `produce` must be a function or undefined\",8:\"First argument to `createDraft` must be a plain object, an array, or an immerable object\",9:\"First argument to `finishDraft` must be a draft returned by `createDraft`\",10:\"The given draft is already finalized\",11:\"Object.defineProperty() cannot be used on an Immer draft\",12:\"Object.setPrototypeOf() cannot be used on an Immer draft\",13:\"Immer only supports deleting array indices\",14:\"Immer only supports setting array indices and the 'length' property\",15:function(n){return\"Cannot apply patch, path doesn't resolve: \"+n},16:'Sets cannot have \"replace\" patches.',17:function(n){return\"Unsupported patch operation: \"+n},18:function(n){return\"The plugin for '\"+n+\"' has not been loaded into Immer. To enable the plugin, import and call `enable\"+n+\"()` when initializing your application.\"},20:\"Cannot use proxies if Proxy, Proxy.revocable or Reflect are not available\",21:function(n){return\"produce can only be called on things that are draftable: plain objects, arrays, Map, Set or classes that are marked with '[immerable]: true'. Got '\"+n+\"'\"},22:function(n){return\"'current' expects a draft, got: \"+n},23:function(n){return\"'original' expects a draft, got: \"+n},24:\"Patching reserved attributes like __proto__, prototype and constructor is not allowed\"},Z=\"\"+Object.prototype.constructor,nn=\"undefined\"!=typeof Reflect&&Reflect.ownKeys?Reflect.ownKeys:void 0!==Object.getOwnPropertySymbols?function(n){return Object.getOwnPropertyNames(n).concat(Object.getOwnPropertySymbols(n))}:Object.getOwnPropertyNames,rn=Object.getOwnPropertyDescriptors||function(n){var r={};return nn(n).forEach((function(t){r[t]=Object.getOwnPropertyDescriptor(n,t)})),r},tn={},en={get:function(n,r){if(r===Q)return n;var e=p(n);if(!u(e,r))return function(n,r,t){var e,i=I(r,t);return i?\"value\"in i?i.value:null===(e=i.get)||void 0===e?void 0:e.call(n.k):void 0}(n,e,r);var i=e[r];return n.I||!t(i)?i:i===z(n.t,r)?(E(n),n.o[r]=R(n.A.h,i,n)):i},has:function(n,r){return r in p(n)},ownKeys:function(n){return Reflect.ownKeys(p(n))},set:function(n,r,t){var e=I(p(n),r);if(null==e?void 0:e.set)return e.set.call(n.k,t),!0;if(!n.P){var i=z(p(n),r),o=null==i?void 0:i[Q];if(o&&o.t===t)return n.o[r]=t,n.D[r]=!1,!0;if(c(t,i)&&(void 0!==t||u(n.t,r)))return!0;E(n),k(n)}return n.o[r]===t&&\"number\"!=typeof t||(n.o[r]=t,n.D[r]=!0,!0)},deleteProperty:function(n,r){return void 0!==z(n.t,r)||r in n.t?(n.D[r]=!1,E(n),k(n)):delete n.D[r],n.o&&delete n.o[r],!0},getOwnPropertyDescriptor:function(n,r){var t=p(n),e=Reflect.getOwnPropertyDescriptor(t,r);return e?{writable:!0,configurable:1!==n.i||\"length\"!==r,enumerable:e.enumerable,value:t[r]}:e},defineProperty:function(){n(11)},getPrototypeOf:function(n){return Object.getPrototypeOf(n.t)},setPrototypeOf:function(){n(12)}},on={};i(en,(function(n,r){on[n]=function(){return arguments[0]=arguments[0][0],r.apply(this,arguments)}})),on.deleteProperty=function(r,t){return\"production\"!==process.env.NODE_ENV&&isNaN(parseInt(t))&&n(13),en.deleteProperty.call(this,r[0],t)},on.set=function(r,t,e){return\"production\"!==process.env.NODE_ENV&&\"length\"!==t&&isNaN(parseInt(t))&&n(14),en.set.call(this,r[0],t,e,r[0])};var un=function(){function e(r){var e=this;this.O=B,this.F=!0,this.produce=function(r,i,o){if(\"function\"==typeof r&&\"function\"!=typeof i){var u=i;i=r;var a=e;return function(n){var r=this;void 0===n&&(n=u);for(var t=arguments.length,e=Array(t>1?t-1:0),o=1;o<t;o++)e[o-1]=arguments[o];return a.produce(n,(function(n){var t;return(t=i).call.apply(t,[r,n].concat(e))}))}}var f;if(\"function\"!=typeof i&&n(6),void 0!==o&&\"function\"!=typeof o&&n(7),t(r)){var c=w(e),s=R(e,r,void 0),v=!0;try{f=i(s),v=!1}finally{v?g(c):O(c)}return\"undefined\"!=typeof Promise&&f instanceof Promise?f.then((function(n){return j(c,o),P(n,c)}),(function(n){throw g(c),n})):(j(c,o),P(f,c))}if(!r||\"object\"!=typeof r){if((f=i(r))===H)return;return void 0===f&&(f=r),e.F&&d(f,!0),f}n(21,r)},this.produceWithPatches=function(n,r){return\"function\"==typeof n?function(r){for(var t=arguments.length,i=Array(t>1?t-1:0),o=1;o<t;o++)i[o-1]=arguments[o];return e.produceWithPatches(r,(function(r){return n.apply(void 0,[r].concat(i))}))}:[e.produce(n,r,(function(n,r){t=n,i=r})),t,i];var t,i},\"boolean\"==typeof(null==r?void 0:r.useProxies)&&this.setUseProxies(r.useProxies),\"boolean\"==typeof(null==r?void 0:r.autoFreeze)&&this.setAutoFreeze(r.autoFreeze)}var i=e.prototype;return i.createDraft=function(e){t(e)||n(8),r(e)&&(e=D(e));var i=w(this),o=R(this,e,void 0);return o[Q].C=!0,O(i),o},i.finishDraft=function(r,t){var e=r&&r[Q];\"production\"!==process.env.NODE_ENV&&(e&&e.C||n(9),e.I&&n(10));var i=e.A;return j(i,t),P(void 0,i)},i.setAutoFreeze=function(n){this.F=n},i.setUseProxies=function(r){r&&!B&&n(20),this.O=r},i.applyPatches=function(n,t){var e;for(e=t.length-1;e>=0;e--){var i=t[e];if(0===i.path.length&&\"replace\"===i.op){n=i.value;break}}var o=b(\"Patches\").$;return r(n)?o(n,t):this.produce(n,(function(n){return o(n,t.slice(e+1))}))},e}(),an=new un,fn=an.produce,cn=an.produceWithPatches.bind(an),sn=an.setAutoFreeze.bind(an),vn=an.setUseProxies.bind(an),pn=an.applyPatches.bind(an),ln=an.createDraft.bind(an),dn=an.finishDraft.bind(an);export default fn;export{un as Immer,pn as applyPatches,K as castDraft,$ as castImmutable,ln as createDraft,D as current,J as enableAllPlugins,N as enableES5,C as enableMapSet,T as enablePatches,dn as finishDraft,d as freeze,L as immerable,r as isDraft,t as isDraftable,H as nothing,e as original,fn as produce,cn as produceWithPatches,sn as setAutoFreeze,vn as setUseProxies};\n//# sourceMappingURL=immer.esm.js.map\n","import $$observable from 'symbol-observable';\n\n/**\n * These are private action types reserved by Redux.\n * For any unknown actions, you must return the current state.\n * If the current state is undefined, you must return the initial state.\n * Do not reference these action types directly in your code.\n */\nvar randomString = function randomString() {\n  return Math.random().toString(36).substring(7).split('').join('.');\n};\n\nvar ActionTypes = {\n  INIT: \"@@redux/INIT\" + randomString(),\n  REPLACE: \"@@redux/REPLACE\" + randomString(),\n  PROBE_UNKNOWN_ACTION: function PROBE_UNKNOWN_ACTION() {\n    return \"@@redux/PROBE_UNKNOWN_ACTION\" + randomString();\n  }\n};\n\n/**\n * @param {any} obj The object to inspect.\n * @returns {boolean} True if the argument appears to be a plain object.\n */\nfunction isPlainObject(obj) {\n  if (typeof obj !== 'object' || obj === null) return false;\n  var proto = obj;\n\n  while (Object.getPrototypeOf(proto) !== null) {\n    proto = Object.getPrototypeOf(proto);\n  }\n\n  return Object.getPrototypeOf(obj) === proto;\n}\n\n/**\n * Creates a Redux store that holds the state tree.\n * The only way to change the data in the store is to call `dispatch()` on it.\n *\n * There should only be a single store in your app. To specify how different\n * parts of the state tree respond to actions, you may combine several reducers\n * into a single reducer function by using `combineReducers`.\n *\n * @param {Function} reducer A function that returns the next state tree, given\n * the current state tree and the action to handle.\n *\n * @param {any} [preloadedState] The initial state. You may optionally specify it\n * to hydrate the state from the server in universal apps, or to restore a\n * previously serialized user session.\n * If you use `combineReducers` to produce the root reducer function, this must be\n * an object with the same shape as `combineReducers` keys.\n *\n * @param {Function} [enhancer] The store enhancer. You may optionally specify it\n * to enhance the store with third-party capabilities such as middleware,\n * time travel, persistence, etc. The only store enhancer that ships with Redux\n * is `applyMiddleware()`.\n *\n * @returns {Store} A Redux store that lets you read the state, dispatch actions\n * and subscribe to changes.\n */\n\nfunction createStore(reducer, preloadedState, enhancer) {\n  var _ref2;\n\n  if (typeof preloadedState === 'function' && typeof enhancer === 'function' || typeof enhancer === 'function' && typeof arguments[3] === 'function') {\n    throw new Error('It looks like you are passing several store enhancers to ' + 'createStore(). This is not supported. Instead, compose them ' + 'together to a single function.');\n  }\n\n  if (typeof preloadedState === 'function' && typeof enhancer === 'undefined') {\n    enhancer = preloadedState;\n    preloadedState = undefined;\n  }\n\n  if (typeof enhancer !== 'undefined') {\n    if (typeof enhancer !== 'function') {\n      throw new Error('Expected the enhancer to be a function.');\n    }\n\n    return enhancer(createStore)(reducer, preloadedState);\n  }\n\n  if (typeof reducer !== 'function') {\n    throw new Error('Expected the reducer to be a function.');\n  }\n\n  var currentReducer = reducer;\n  var currentState = preloadedState;\n  var currentListeners = [];\n  var nextListeners = currentListeners;\n  var isDispatching = false;\n  /**\n   * This makes a shallow copy of currentListeners so we can use\n   * nextListeners as a temporary list while dispatching.\n   *\n   * This prevents any bugs around consumers calling\n   * subscribe/unsubscribe in the middle of a dispatch.\n   */\n\n  function ensureCanMutateNextListeners() {\n    if (nextListeners === currentListeners) {\n      nextListeners = currentListeners.slice();\n    }\n  }\n  /**\n   * Reads the state tree managed by the store.\n   *\n   * @returns {any} The current state tree of your application.\n   */\n\n\n  function getState() {\n    if (isDispatching) {\n      throw new Error('You may not call store.getState() while the reducer is executing. ' + 'The reducer has already received the state as an argument. ' + 'Pass it down from the top reducer instead of reading it from the store.');\n    }\n\n    return currentState;\n  }\n  /**\n   * Adds a change listener. It will be called any time an action is dispatched,\n   * and some part of the state tree may potentially have changed. You may then\n   * call `getState()` to read the current state tree inside the callback.\n   *\n   * You may call `dispatch()` from a change listener, with the following\n   * caveats:\n   *\n   * 1. The subscriptions are snapshotted just before every `dispatch()` call.\n   * If you subscribe or unsubscribe while the listeners are being invoked, this\n   * will not have any effect on the `dispatch()` that is currently in progress.\n   * However, the next `dispatch()` call, whether nested or not, will use a more\n   * recent snapshot of the subscription list.\n   *\n   * 2. The listener should not expect to see all state changes, as the state\n   * might have been updated multiple times during a nested `dispatch()` before\n   * the listener is called. It is, however, guaranteed that all subscribers\n   * registered before the `dispatch()` started will be called with the latest\n   * state by the time it exits.\n   *\n   * @param {Function} listener A callback to be invoked on every dispatch.\n   * @returns {Function} A function to remove this change listener.\n   */\n\n\n  function subscribe(listener) {\n    if (typeof listener !== 'function') {\n      throw new Error('Expected the listener to be a function.');\n    }\n\n    if (isDispatching) {\n      throw new Error('You may not call store.subscribe() while the reducer is executing. ' + 'If you would like to be notified after the store has been updated, subscribe from a ' + 'component and invoke store.getState() in the callback to access the latest state. ' + 'See https://redux.js.org/api-reference/store#subscribelistener for more details.');\n    }\n\n    var isSubscribed = true;\n    ensureCanMutateNextListeners();\n    nextListeners.push(listener);\n    return function unsubscribe() {\n      if (!isSubscribed) {\n        return;\n      }\n\n      if (isDispatching) {\n        throw new Error('You may not unsubscribe from a store listener while the reducer is executing. ' + 'See https://redux.js.org/api-reference/store#subscribelistener for more details.');\n      }\n\n      isSubscribed = false;\n      ensureCanMutateNextListeners();\n      var index = nextListeners.indexOf(listener);\n      nextListeners.splice(index, 1);\n      currentListeners = null;\n    };\n  }\n  /**\n   * Dispatches an action. It is the only way to trigger a state change.\n   *\n   * The `reducer` function, used to create the store, will be called with the\n   * current state tree and the given `action`. Its return value will\n   * be considered the **next** state of the tree, and the change listeners\n   * will be notified.\n   *\n   * The base implementation only supports plain object actions. If you want to\n   * dispatch a Promise, an Observable, a thunk, or something else, you need to\n   * wrap your store creating function into the corresponding middleware. For\n   * example, see the documentation for the `redux-thunk` package. Even the\n   * middleware will eventually dispatch plain object actions using this method.\n   *\n   * @param {Object} action A plain object representing what changed. It is\n   * a good idea to keep actions serializable so you can record and replay user\n   * sessions, or use the time travelling `redux-devtools`. An action must have\n   * a `type` property which may not be `undefined`. It is a good idea to use\n   * string constants for action types.\n   *\n   * @returns {Object} For convenience, the same action object you dispatched.\n   *\n   * Note that, if you use a custom middleware, it may wrap `dispatch()` to\n   * return something else (for example, a Promise you can await).\n   */\n\n\n  function dispatch(action) {\n    if (!isPlainObject(action)) {\n      throw new Error('Actions must be plain objects. ' + 'Use custom middleware for async actions.');\n    }\n\n    if (typeof action.type === 'undefined') {\n      throw new Error('Actions may not have an undefined \"type\" property. ' + 'Have you misspelled a constant?');\n    }\n\n    if (isDispatching) {\n      throw new Error('Reducers may not dispatch actions.');\n    }\n\n    try {\n      isDispatching = true;\n      currentState = currentReducer(currentState, action);\n    } finally {\n      isDispatching = false;\n    }\n\n    var listeners = currentListeners = nextListeners;\n\n    for (var i = 0; i < listeners.length; i++) {\n      var listener = listeners[i];\n      listener();\n    }\n\n    return action;\n  }\n  /**\n   * Replaces the reducer currently used by the store to calculate the state.\n   *\n   * You might need this if your app implements code splitting and you want to\n   * load some of the reducers dynamically. You might also need this if you\n   * implement a hot reloading mechanism for Redux.\n   *\n   * @param {Function} nextReducer The reducer for the store to use instead.\n   * @returns {void}\n   */\n\n\n  function replaceReducer(nextReducer) {\n    if (typeof nextReducer !== 'function') {\n      throw new Error('Expected the nextReducer to be a function.');\n    }\n\n    currentReducer = nextReducer; // This action has a similiar effect to ActionTypes.INIT.\n    // Any reducers that existed in both the new and old rootReducer\n    // will receive the previous state. This effectively populates\n    // the new state tree with any relevant data from the old one.\n\n    dispatch({\n      type: ActionTypes.REPLACE\n    });\n  }\n  /**\n   * Interoperability point for observable/reactive libraries.\n   * @returns {observable} A minimal observable of state changes.\n   * For more information, see the observable proposal:\n   * https://github.com/tc39/proposal-observable\n   */\n\n\n  function observable() {\n    var _ref;\n\n    var outerSubscribe = subscribe;\n    return _ref = {\n      /**\n       * The minimal observable subscription method.\n       * @param {Object} observer Any object that can be used as an observer.\n       * The observer object should have a `next` method.\n       * @returns {subscription} An object with an `unsubscribe` method that can\n       * be used to unsubscribe the observable from the store, and prevent further\n       * emission of values from the observable.\n       */\n      subscribe: function subscribe(observer) {\n        if (typeof observer !== 'object' || observer === null) {\n          throw new TypeError('Expected the observer to be an object.');\n        }\n\n        function observeState() {\n          if (observer.next) {\n            observer.next(getState());\n          }\n        }\n\n        observeState();\n        var unsubscribe = outerSubscribe(observeState);\n        return {\n          unsubscribe: unsubscribe\n        };\n      }\n    }, _ref[$$observable] = function () {\n      return this;\n    }, _ref;\n  } // When a store is created, an \"INIT\" action is dispatched so that every\n  // reducer returns their initial state. This effectively populates\n  // the initial state tree.\n\n\n  dispatch({\n    type: ActionTypes.INIT\n  });\n  return _ref2 = {\n    dispatch: dispatch,\n    subscribe: subscribe,\n    getState: getState,\n    replaceReducer: replaceReducer\n  }, _ref2[$$observable] = observable, _ref2;\n}\n\n/**\n * Prints a warning in the console if it exists.\n *\n * @param {String} message The warning message.\n * @returns {void}\n */\nfunction warning(message) {\n  /* eslint-disable no-console */\n  if (typeof console !== 'undefined' && typeof console.error === 'function') {\n    console.error(message);\n  }\n  /* eslint-enable no-console */\n\n\n  try {\n    // This error was thrown as a convenience so that if you enable\n    // \"break on all exceptions\" in your console,\n    // it would pause the execution at this line.\n    throw new Error(message);\n  } catch (e) {} // eslint-disable-line no-empty\n\n}\n\nfunction getUndefinedStateErrorMessage(key, action) {\n  var actionType = action && action.type;\n  var actionDescription = actionType && \"action \\\"\" + String(actionType) + \"\\\"\" || 'an action';\n  return \"Given \" + actionDescription + \", reducer \\\"\" + key + \"\\\" returned undefined. \" + \"To ignore an action, you must explicitly return the previous state. \" + \"If you want this reducer to hold no value, you can return null instead of undefined.\";\n}\n\nfunction getUnexpectedStateShapeWarningMessage(inputState, reducers, action, unexpectedKeyCache) {\n  var reducerKeys = Object.keys(reducers);\n  var argumentName = action && action.type === ActionTypes.INIT ? 'preloadedState argument passed to createStore' : 'previous state received by the reducer';\n\n  if (reducerKeys.length === 0) {\n    return 'Store does not have a valid reducer. Make sure the argument passed ' + 'to combineReducers is an object whose values are reducers.';\n  }\n\n  if (!isPlainObject(inputState)) {\n    return \"The \" + argumentName + \" has unexpected type of \\\"\" + {}.toString.call(inputState).match(/\\s([a-z|A-Z]+)/)[1] + \"\\\". Expected argument to be an object with the following \" + (\"keys: \\\"\" + reducerKeys.join('\", \"') + \"\\\"\");\n  }\n\n  var unexpectedKeys = Object.keys(inputState).filter(function (key) {\n    return !reducers.hasOwnProperty(key) && !unexpectedKeyCache[key];\n  });\n  unexpectedKeys.forEach(function (key) {\n    unexpectedKeyCache[key] = true;\n  });\n  if (action && action.type === ActionTypes.REPLACE) return;\n\n  if (unexpectedKeys.length > 0) {\n    return \"Unexpected \" + (unexpectedKeys.length > 1 ? 'keys' : 'key') + \" \" + (\"\\\"\" + unexpectedKeys.join('\", \"') + \"\\\" found in \" + argumentName + \". \") + \"Expected to find one of the known reducer keys instead: \" + (\"\\\"\" + reducerKeys.join('\", \"') + \"\\\". Unexpected keys will be ignored.\");\n  }\n}\n\nfunction assertReducerShape(reducers) {\n  Object.keys(reducers).forEach(function (key) {\n    var reducer = reducers[key];\n    var initialState = reducer(undefined, {\n      type: ActionTypes.INIT\n    });\n\n    if (typeof initialState === 'undefined') {\n      throw new Error(\"Reducer \\\"\" + key + \"\\\" returned undefined during initialization. \" + \"If the state passed to the reducer is undefined, you must \" + \"explicitly return the initial state. The initial state may \" + \"not be undefined. If you don't want to set a value for this reducer, \" + \"you can use null instead of undefined.\");\n    }\n\n    if (typeof reducer(undefined, {\n      type: ActionTypes.PROBE_UNKNOWN_ACTION()\n    }) === 'undefined') {\n      throw new Error(\"Reducer \\\"\" + key + \"\\\" returned undefined when probed with a random type. \" + (\"Don't try to handle \" + ActionTypes.INIT + \" or other actions in \\\"redux/*\\\" \") + \"namespace. They are considered private. Instead, you must return the \" + \"current state for any unknown actions, unless it is undefined, \" + \"in which case you must return the initial state, regardless of the \" + \"action type. The initial state may not be undefined, but can be null.\");\n    }\n  });\n}\n/**\n * Turns an object whose values are different reducer functions, into a single\n * reducer function. It will call every child reducer, and gather their results\n * into a single state object, whose keys correspond to the keys of the passed\n * reducer functions.\n *\n * @param {Object} reducers An object whose values correspond to different\n * reducer functions that need to be combined into one. One handy way to obtain\n * it is to use ES6 `import * as reducers` syntax. The reducers may never return\n * undefined for any action. Instead, they should return their initial state\n * if the state passed to them was undefined, and the current state for any\n * unrecognized action.\n *\n * @returns {Function} A reducer function that invokes every reducer inside the\n * passed object, and builds a state object with the same shape.\n */\n\n\nfunction combineReducers(reducers) {\n  var reducerKeys = Object.keys(reducers);\n  var finalReducers = {};\n\n  for (var i = 0; i < reducerKeys.length; i++) {\n    var key = reducerKeys[i];\n\n    if (process.env.NODE_ENV !== 'production') {\n      if (typeof reducers[key] === 'undefined') {\n        warning(\"No reducer provided for key \\\"\" + key + \"\\\"\");\n      }\n    }\n\n    if (typeof reducers[key] === 'function') {\n      finalReducers[key] = reducers[key];\n    }\n  }\n\n  var finalReducerKeys = Object.keys(finalReducers); // This is used to make sure we don't warn about the same\n  // keys multiple times.\n\n  var unexpectedKeyCache;\n\n  if (process.env.NODE_ENV !== 'production') {\n    unexpectedKeyCache = {};\n  }\n\n  var shapeAssertionError;\n\n  try {\n    assertReducerShape(finalReducers);\n  } catch (e) {\n    shapeAssertionError = e;\n  }\n\n  return function combination(state, action) {\n    if (state === void 0) {\n      state = {};\n    }\n\n    if (shapeAssertionError) {\n      throw shapeAssertionError;\n    }\n\n    if (process.env.NODE_ENV !== 'production') {\n      var warningMessage = getUnexpectedStateShapeWarningMessage(state, finalReducers, action, unexpectedKeyCache);\n\n      if (warningMessage) {\n        warning(warningMessage);\n      }\n    }\n\n    var hasChanged = false;\n    var nextState = {};\n\n    for (var _i = 0; _i < finalReducerKeys.length; _i++) {\n      var _key = finalReducerKeys[_i];\n      var reducer = finalReducers[_key];\n      var previousStateForKey = state[_key];\n      var nextStateForKey = reducer(previousStateForKey, action);\n\n      if (typeof nextStateForKey === 'undefined') {\n        var errorMessage = getUndefinedStateErrorMessage(_key, action);\n        throw new Error(errorMessage);\n      }\n\n      nextState[_key] = nextStateForKey;\n      hasChanged = hasChanged || nextStateForKey !== previousStateForKey;\n    }\n\n    hasChanged = hasChanged || finalReducerKeys.length !== Object.keys(state).length;\n    return hasChanged ? nextState : state;\n  };\n}\n\nfunction bindActionCreator(actionCreator, dispatch) {\n  return function () {\n    return dispatch(actionCreator.apply(this, arguments));\n  };\n}\n/**\n * Turns an object whose values are action creators, into an object with the\n * same keys, but with every function wrapped into a `dispatch` call so they\n * may be invoked directly. This is just a convenience method, as you can call\n * `store.dispatch(MyActionCreators.doSomething())` yourself just fine.\n *\n * For convenience, you can also pass an action creator as the first argument,\n * and get a dispatch wrapped function in return.\n *\n * @param {Function|Object} actionCreators An object whose values are action\n * creator functions. One handy way to obtain it is to use ES6 `import * as`\n * syntax. You may also pass a single function.\n *\n * @param {Function} dispatch The `dispatch` function available on your Redux\n * store.\n *\n * @returns {Function|Object} The object mimicking the original object, but with\n * every action creator wrapped into the `dispatch` call. If you passed a\n * function as `actionCreators`, the return value will also be a single\n * function.\n */\n\n\nfunction bindActionCreators(actionCreators, dispatch) {\n  if (typeof actionCreators === 'function') {\n    return bindActionCreator(actionCreators, dispatch);\n  }\n\n  if (typeof actionCreators !== 'object' || actionCreators === null) {\n    throw new Error(\"bindActionCreators expected an object or a function, instead received \" + (actionCreators === null ? 'null' : typeof actionCreators) + \". \" + \"Did you write \\\"import ActionCreators from\\\" instead of \\\"import * as ActionCreators from\\\"?\");\n  }\n\n  var boundActionCreators = {};\n\n  for (var key in actionCreators) {\n    var actionCreator = actionCreators[key];\n\n    if (typeof actionCreator === 'function') {\n      boundActionCreators[key] = bindActionCreator(actionCreator, dispatch);\n    }\n  }\n\n  return boundActionCreators;\n}\n\nfunction _defineProperty(obj, key, value) {\n  if (key in obj) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n\n  return obj;\n}\n\nfunction ownKeys(object, enumerableOnly) {\n  var keys = Object.keys(object);\n\n  if (Object.getOwnPropertySymbols) {\n    keys.push.apply(keys, Object.getOwnPropertySymbols(object));\n  }\n\n  if (enumerableOnly) keys = keys.filter(function (sym) {\n    return Object.getOwnPropertyDescriptor(object, sym).enumerable;\n  });\n  return keys;\n}\n\nfunction _objectSpread2(target) {\n  for (var i = 1; i < arguments.length; i++) {\n    var source = arguments[i] != null ? arguments[i] : {};\n\n    if (i % 2) {\n      ownKeys(source, true).forEach(function (key) {\n        _defineProperty(target, key, source[key]);\n      });\n    } else if (Object.getOwnPropertyDescriptors) {\n      Object.defineProperties(target, Object.getOwnPropertyDescriptors(source));\n    } else {\n      ownKeys(source).forEach(function (key) {\n        Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key));\n      });\n    }\n  }\n\n  return target;\n}\n\n/**\n * Composes single-argument functions from right to left. The rightmost\n * function can take multiple arguments as it provides the signature for\n * the resulting composite function.\n *\n * @param {...Function} funcs The functions to compose.\n * @returns {Function} A function obtained by composing the argument functions\n * from right to left. For example, compose(f, g, h) is identical to doing\n * (...args) => f(g(h(...args))).\n */\nfunction compose() {\n  for (var _len = arguments.length, funcs = new Array(_len), _key = 0; _key < _len; _key++) {\n    funcs[_key] = arguments[_key];\n  }\n\n  if (funcs.length === 0) {\n    return function (arg) {\n      return arg;\n    };\n  }\n\n  if (funcs.length === 1) {\n    return funcs[0];\n  }\n\n  return funcs.reduce(function (a, b) {\n    return function () {\n      return a(b.apply(void 0, arguments));\n    };\n  });\n}\n\n/**\n * Creates a store enhancer that applies middleware to the dispatch method\n * of the Redux store. This is handy for a variety of tasks, such as expressing\n * asynchronous actions in a concise manner, or logging every action payload.\n *\n * See `redux-thunk` package as an example of the Redux middleware.\n *\n * Because middleware is potentially asynchronous, this should be the first\n * store enhancer in the composition chain.\n *\n * Note that each middleware will be given the `dispatch` and `getState` functions\n * as named arguments.\n *\n * @param {...Function} middlewares The middleware chain to be applied.\n * @returns {Function} A store enhancer applying the middleware.\n */\n\nfunction applyMiddleware() {\n  for (var _len = arguments.length, middlewares = new Array(_len), _key = 0; _key < _len; _key++) {\n    middlewares[_key] = arguments[_key];\n  }\n\n  return function (createStore) {\n    return function () {\n      var store = createStore.apply(void 0, arguments);\n\n      var _dispatch = function dispatch() {\n        throw new Error('Dispatching while constructing your middleware is not allowed. ' + 'Other middleware would not be applied to this dispatch.');\n      };\n\n      var middlewareAPI = {\n        getState: store.getState,\n        dispatch: function dispatch() {\n          return _dispatch.apply(void 0, arguments);\n        }\n      };\n      var chain = middlewares.map(function (middleware) {\n        return middleware(middlewareAPI);\n      });\n      _dispatch = compose.apply(void 0, chain)(store.dispatch);\n      return _objectSpread2({}, store, {\n        dispatch: _dispatch\n      });\n    };\n  };\n}\n\n/*\n * This is a dummy function to check if the function name has been altered by minification.\n * If the function has been minified and NODE_ENV !== 'production', warn the user.\n */\n\nfunction isCrushed() {}\n\nif (process.env.NODE_ENV !== 'production' && typeof isCrushed.name === 'string' && isCrushed.name !== 'isCrushed') {\n  warning('You are currently using minified code outside of NODE_ENV === \"production\". ' + 'This means that you are running a slower development build of Redux. ' + 'You can use loose-envify (https://github.com/zertosh/loose-envify) for browserify ' + 'or setting mode to production in webpack (https://webpack.js.org/concepts/mode/) ' + 'to ensure you have the correct code for your production build.');\n}\n\nexport { ActionTypes as __DO_NOT_USE__ActionTypes, applyMiddleware, bindActionCreators, combineReducers, compose, createStore };\n","function defaultEqualityCheck(a, b) {\n  return a === b;\n}\n\nfunction areArgumentsShallowlyEqual(equalityCheck, prev, next) {\n  if (prev === null || next === null || prev.length !== next.length) {\n    return false;\n  }\n\n  // Do this in a for loop (and not a `forEach` or an `every`) so we can determine equality as fast as possible.\n  var length = prev.length;\n  for (var i = 0; i < length; i++) {\n    if (!equalityCheck(prev[i], next[i])) {\n      return false;\n    }\n  }\n\n  return true;\n}\n\nexport function defaultMemoize(func) {\n  var equalityCheck = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : defaultEqualityCheck;\n\n  var lastArgs = null;\n  var lastResult = null;\n  // we reference arguments instead of spreading them for performance reasons\n  return function () {\n    if (!areArgumentsShallowlyEqual(equalityCheck, lastArgs, arguments)) {\n      // apply arguments instead of spreading for performance.\n      lastResult = func.apply(null, arguments);\n    }\n\n    lastArgs = arguments;\n    return lastResult;\n  };\n}\n\nfunction getDependencies(funcs) {\n  var dependencies = Array.isArray(funcs[0]) ? funcs[0] : funcs;\n\n  if (!dependencies.every(function (dep) {\n    return typeof dep === 'function';\n  })) {\n    var dependencyTypes = dependencies.map(function (dep) {\n      return typeof dep;\n    }).join(', ');\n    throw new Error('Selector creators expect all input-selectors to be functions, ' + ('instead received the following types: [' + dependencyTypes + ']'));\n  }\n\n  return dependencies;\n}\n\nexport function createSelectorCreator(memoize) {\n  for (var _len = arguments.length, memoizeOptions = Array(_len > 1 ? _len - 1 : 0), _key = 1; _key < _len; _key++) {\n    memoizeOptions[_key - 1] = arguments[_key];\n  }\n\n  return function () {\n    for (var _len2 = arguments.length, funcs = Array(_len2), _key2 = 0; _key2 < _len2; _key2++) {\n      funcs[_key2] = arguments[_key2];\n    }\n\n    var recomputations = 0;\n    var resultFunc = funcs.pop();\n    var dependencies = getDependencies(funcs);\n\n    var memoizedResultFunc = memoize.apply(undefined, [function () {\n      recomputations++;\n      // apply arguments instead of spreading for performance.\n      return resultFunc.apply(null, arguments);\n    }].concat(memoizeOptions));\n\n    // If a selector is called with the exact same arguments we don't need to traverse our dependencies again.\n    var selector = memoize(function () {\n      var params = [];\n      var length = dependencies.length;\n\n      for (var i = 0; i < length; i++) {\n        // apply arguments instead of spreading and mutate a local list of params for performance.\n        params.push(dependencies[i].apply(null, arguments));\n      }\n\n      // apply arguments instead of spreading for performance.\n      return memoizedResultFunc.apply(null, params);\n    });\n\n    selector.resultFunc = resultFunc;\n    selector.dependencies = dependencies;\n    selector.recomputations = function () {\n      return recomputations;\n    };\n    selector.resetRecomputations = function () {\n      return recomputations = 0;\n    };\n    return selector;\n  };\n}\n\nexport var createSelector = createSelectorCreator(defaultMemoize);\n\nexport function createStructuredSelector(selectors) {\n  var selectorCreator = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : createSelector;\n\n  if (typeof selectors !== 'object') {\n    throw new Error('createStructuredSelector expects first argument to be an object ' + ('where each property is a selector, instead received a ' + typeof selectors));\n  }\n  var objectKeys = Object.keys(selectors);\n  return selectorCreator(objectKeys.map(function (key) {\n    return selectors[key];\n  }), function () {\n    for (var _len3 = arguments.length, values = Array(_len3), _key3 = 0; _key3 < _len3; _key3++) {\n      values[_key3] = arguments[_key3];\n    }\n\n    return values.reduce(function (composition, value, index) {\n      composition[objectKeys[index]] = value;\n      return composition;\n    }, {});\n  });\n}","\"use strict\";\nexports.__esModule = true;\nexports.commentActionFunctions = exports.invalidateContentPath = exports.deleteReply = exports.updateReply = exports.addReply = exports.setFocusedComment = exports.resolveComment = exports.deleteComment = exports.updateComment = exports.addComment = exports.INVALIDATE_CONTENT_PATH = exports.DELETE_REPLY = exports.UPDATE_REPLY = exports.ADD_REPLY = exports.SET_PINNED_COMMENT = exports.SET_FOCUSED_COMMENT = exports.RESOLVE_COMMENT = exports.DELETE_COMMENT = exports.UPDATE_COMMENT = exports.ADD_COMMENT = void 0;\nexports.ADD_COMMENT = 'add-comment';\nexports.UPDATE_COMMENT = 'update-comment';\nexports.DELETE_COMMENT = 'delete-comment';\nexports.RESOLVE_COMMENT = 'resolve-comment';\nexports.SET_FOCUSED_COMMENT = 'set-focused-comment';\nexports.SET_PINNED_COMMENT = 'set-pinned-comment';\nexports.ADD_REPLY = 'add-reply';\nexports.UPDATE_REPLY = 'update-reply';\nexports.DELETE_REPLY = 'delete-reply';\nexports.INVALIDATE_CONTENT_PATH = 'invalidate-content-path';\nfunction addComment(comment) {\n    return {\n        type: exports.ADD_COMMENT,\n        comment: comment,\n    };\n}\nexports.addComment = addComment;\nfunction updateComment(commentId, update) {\n    return {\n        type: exports.UPDATE_COMMENT,\n        commentId: commentId,\n        update: update,\n    };\n}\nexports.updateComment = updateComment;\nfunction deleteComment(commentId) {\n    return {\n        type: exports.DELETE_COMMENT,\n        commentId: commentId,\n    };\n}\nexports.deleteComment = deleteComment;\nfunction resolveComment(commentId) {\n    return {\n        type: exports.RESOLVE_COMMENT,\n        commentId: commentId,\n    };\n}\nexports.resolveComment = resolveComment;\nfunction setFocusedComment(commentId, _a) {\n    var _b = _a === void 0 ? { updatePinnedComment: false, forceFocus: false } : _a, updatePinnedComment = _b.updatePinnedComment, forceFocus = _b.forceFocus;\n    return {\n        type: exports.SET_FOCUSED_COMMENT,\n        commentId: commentId,\n        updatePinnedComment: updatePinnedComment,\n        forceFocus: forceFocus\n    };\n}\nexports.setFocusedComment = setFocusedComment;\nfunction addReply(commentId, reply) {\n    return {\n        type: exports.ADD_REPLY,\n        commentId: commentId,\n        reply: reply,\n    };\n}\nexports.addReply = addReply;\nfunction updateReply(commentId, replyId, update) {\n    return {\n        type: exports.UPDATE_REPLY,\n        commentId: commentId,\n        replyId: replyId,\n        update: update,\n    };\n}\nexports.updateReply = updateReply;\nfunction deleteReply(commentId, replyId) {\n    return {\n        type: exports.DELETE_REPLY,\n        commentId: commentId,\n        replyId: replyId,\n    };\n}\nexports.deleteReply = deleteReply;\nfunction invalidateContentPath(contentPath) {\n    return {\n        type: exports.INVALIDATE_CONTENT_PATH,\n        contentPath: contentPath,\n    };\n}\nexports.invalidateContentPath = invalidateContentPath;\nexports.commentActionFunctions = {\n    addComment: addComment,\n    updateComment: updateComment,\n    deleteComment: deleteComment,\n    resolveComment: resolveComment,\n    setFocusedComment: setFocusedComment,\n    addReply: addReply,\n    updateReply: updateReply,\n    deleteReply: deleteReply,\n    invalidateContentPath: invalidateContentPath,\n};\n","\"use strict\";\nexports.__esModule = true;\nexports.updateGlobalSettings = exports.UPDATE_GLOBAL_SETTINGS = void 0;\nexports.UPDATE_GLOBAL_SETTINGS = 'update-global-settings';\nfunction updateGlobalSettings(update) {\n    return {\n        type: exports.UPDATE_GLOBAL_SETTINGS,\n        update: update,\n    };\n}\nexports.updateGlobalSettings = updateGlobalSettings;\n","\"use strict\";\n/* eslint-disable react/prop-types */\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        if (typeof b !== \"function\" && b !== null)\n            throw new TypeError(\"Class extends value \" + String(b) + \" is not a constructor or null\");\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\nvar __generator = (this && this.__generator) || function (thisArg, body) {\n    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;\n    return g = { next: verb(0), \"throw\": verb(1), \"return\": verb(2) }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function() { return this; }), g;\n    function verb(n) { return function (v) { return step([n, v]); }; }\n    function step(op) {\n        if (f) throw new TypeError(\"Generator is already executing.\");\n        while (_) try {\n            if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\n            if (y = 0, t) op = [op[0] & 2, t.value];\n            switch (op[0]) {\n                case 0: case 1: t = op; break;\n                case 4: _.label++; return { value: op[1], done: false };\n                case 5: _.label++; y = op[1]; op = [0]; continue;\n                case 7: op = _.ops.pop(); _.trys.pop(); continue;\n                default:\n                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\n                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\n                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\n                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\n                    if (t[2]) _.ops.pop();\n                    _.trys.pop(); continue;\n            }\n            op = body.call(thisArg, _);\n        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\n        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\n    }\n};\nvar __values = (this && this.__values) || function(o) {\n    var s = typeof Symbol === \"function\" && Symbol.iterator, m = s && o[s], i = 0;\n    if (m) return m.call(o);\n    if (o && typeof o.length === \"number\") return {\n        next: function () {\n            if (o && i >= o.length) o = void 0;\n            return { value: o && o[i++], done: !o };\n        }\n    };\n    throw new TypeError(s ? \"Object is not iterable.\" : \"Symbol.iterator is not defined.\");\n};\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nexports.__esModule = true;\nvar react_1 = __importDefault(require(\"react\"));\nvar react_dom_1 = __importDefault(require(\"react-dom\"));\nvar focus_trap_react_1 = __importDefault(require(\"focus-trap-react\"));\nvar Icon_1 = __importDefault(require(\"../../../Icon/Icon\"));\nvar comments_1 = require(\"../../state/comments\");\nvar comments_2 = require(\"../../actions/comments\");\nvar sequences_1 = require(\"../../utils/sequences\");\nvar CommentReply_1 = __importDefault(require(\"../CommentReply\"));\nvar CommentHeader_1 = require(\"../CommentHeader\");\nvar TextArea_1 = __importDefault(require(\"../TextArea\"));\nfunction saveComment(comment, store) {\n    return __awaiter(this, void 0, void 0, function () {\n        return __generator(this, function (_a) {\n            store.dispatch(comments_2.updateComment(comment.localId, {\n                mode: 'saving',\n            }));\n            try {\n                store.dispatch(comments_2.updateComment(comment.localId, {\n                    mode: 'default',\n                    text: comment.newText,\n                    remoteId: comment.remoteId,\n                    author: comment.author,\n                    date: comment.date,\n                }));\n            }\n            catch (err) {\n                /* eslint-disable-next-line no-console */\n                console.error(err);\n                store.dispatch(comments_2.updateComment(comment.localId, {\n                    mode: 'save_error',\n                }));\n            }\n            return [2 /*return*/];\n        });\n    });\n}\nfunction doDeleteComment(comment, store) {\n    return __awaiter(this, void 0, void 0, function () {\n        return __generator(this, function (_a) {\n            store.dispatch(comments_2.updateComment(comment.localId, {\n                mode: 'deleting',\n            }));\n            try {\n                store.dispatch(comments_2.deleteComment(comment.localId));\n            }\n            catch (err) {\n                /* eslint-disable-next-line no-console */\n                console.error(err);\n                store.dispatch(comments_2.updateComment(comment.localId, {\n                    mode: 'delete_error',\n                }));\n            }\n            return [2 /*return*/];\n        });\n    });\n}\nfunction doResolveComment(comment, store) {\n    store.dispatch(comments_2.resolveComment(comment.localId));\n}\nvar CommentComponent = /** @class */ (function (_super) {\n    __extends(CommentComponent, _super);\n    function CommentComponent() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    CommentComponent.prototype.renderReplies = function (_a) {\n        var e_1, _b;\n        var _this = this;\n        var _c = _a === void 0 ? {} : _a, _d = _c.hideNewReply, hideNewReply = _d === void 0 ? false : _d;\n        var _e = this.props, comment = _e.comment, isFocused = _e.isFocused, store = _e.store, user = _e.user, strings = _e.strings;\n        if (!comment.remoteId) {\n            // Hide replies UI if the comment itself isn't saved yet\n            return react_1[\"default\"].createElement(react_1[\"default\"].Fragment, null);\n        }\n        var onChangeNewReply = function (value) {\n            store.dispatch(comments_2.updateComment(comment.localId, {\n                newReply: value,\n            }));\n        };\n        var sendReply = function (e) { return __awaiter(_this, void 0, void 0, function () {\n            var replyId, reply;\n            return __generator(this, function (_a) {\n                e.preventDefault();\n                replyId = sequences_1.getNextReplyId();\n                reply = comments_1.newCommentReply(replyId, user, Date.now(), {\n                    text: comment.newReply,\n                    mode: 'default',\n                });\n                store.dispatch(comments_2.addReply(comment.localId, reply));\n                store.dispatch(comments_2.updateComment(comment.localId, {\n                    newReply: '',\n                }));\n                return [2 /*return*/];\n            });\n        }); };\n        var onClickCancelReply = function (e) {\n            e.preventDefault();\n            store.dispatch(comments_2.updateComment(comment.localId, {\n                newReply: '',\n            }));\n            store.dispatch(comments_2.setFocusedComment(null));\n            // Stop the event bubbling so that the comment isn't immediately refocused\n            e.stopPropagation();\n        };\n        var replies = [];\n        var replyBeingEdited = false;\n        try {\n            for (var _f = __values(comment.replies.values()), _g = _f.next(); !_g.done; _g = _f.next()) {\n                var reply = _g.value;\n                if (reply.mode === 'saving' || reply.mode === 'editing') {\n                    replyBeingEdited = true;\n                }\n                if (!reply.deleted) {\n                    replies.push(react_1[\"default\"].createElement(CommentReply_1[\"default\"], { key: reply.localId, store: store, user: user, comment: comment, reply: reply, strings: strings, isFocused: isFocused }));\n                }\n            }\n        }\n        catch (e_1_1) { e_1 = { error: e_1_1 }; }\n        finally {\n            try {\n                if (_g && !_g.done && (_b = _f[\"return\"])) _b.call(_f);\n            }\n            finally { if (e_1) throw e_1.error; }\n        }\n        // Hide new reply if a reply is being edited as well\n        var newReplyHidden = hideNewReply || replyBeingEdited;\n        var replyForm = react_1[\"default\"].createElement(react_1[\"default\"].Fragment, null);\n        if (!newReplyHidden && (isFocused || comment.newReply)) {\n            replyForm = (react_1[\"default\"].createElement(\"form\", { onSubmit: sendReply },\n                react_1[\"default\"].createElement(TextArea_1[\"default\"], { className: \"comment__reply-input\", placeholder: \"Enter your reply...\", value: comment.newReply, onChange: onChangeNewReply }),\n                react_1[\"default\"].createElement(\"div\", { className: \"comment__reply-actions\" },\n                    react_1[\"default\"].createElement(\"button\", { disabled: comment.newReply.length === 0, type: \"submit\", className: \"comment__button comment__button--primary\" }, strings.REPLY),\n                    react_1[\"default\"].createElement(\"button\", { type: \"button\", onClick: onClickCancelReply, className: \"comment__button\" }, strings.CANCEL))));\n        }\n        else if (replies.length === 0) {\n            // If there is no form, or replies, don't add any elements to the dom\n            // This is in case there is a warning after the comment, some special styling\n            // is added if that element is that last child so we can't have any hidden elements here.\n            return react_1[\"default\"].createElement(react_1[\"default\"].Fragment, null);\n        }\n        return (react_1[\"default\"].createElement(react_1[\"default\"].Fragment, null,\n            react_1[\"default\"].createElement(\"ul\", { className: \"comment__replies\" }, replies),\n            replyForm));\n    };\n    CommentComponent.prototype.renderCreating = function () {\n        var _this = this;\n        var _a = this.props, comment = _a.comment, store = _a.store, strings = _a.strings, isFocused = _a.isFocused;\n        var onChangeText = function (value) {\n            store.dispatch(comments_2.updateComment(comment.localId, {\n                newText: value,\n            }));\n        };\n        var onSave = function (e) { return __awaiter(_this, void 0, void 0, function () {\n            return __generator(this, function (_a) {\n                switch (_a.label) {\n                    case 0:\n                        e.preventDefault();\n                        return [4 /*yield*/, saveComment(comment, store)];\n                    case 1:\n                        _a.sent();\n                        return [2 /*return*/];\n                }\n            });\n        }); };\n        var onCancel = function (e) {\n            e.preventDefault();\n            store.dispatch(comments_2.deleteComment(comment.localId));\n        };\n        var descriptionId = \"comment-description-\" + comment.localId;\n        return (react_1[\"default\"].createElement(react_1[\"default\"].Fragment, null,\n            react_1[\"default\"].createElement(CommentHeader_1.CommentHeader, { descriptionId: descriptionId, commentReply: comment, store: store, strings: strings, focused: isFocused }),\n            react_1[\"default\"].createElement(\"form\", { onSubmit: onSave },\n                react_1[\"default\"].createElement(TextArea_1[\"default\"], { focusTarget: isFocused, className: \"comment__input\", value: comment.newText, onChange: onChangeText, placeholder: \"Enter your comments...\", additionalAttributes: {\n                        'aria-describedby': descriptionId\n                    } }),\n                react_1[\"default\"].createElement(\"div\", { className: \"comment__actions\" },\n                    react_1[\"default\"].createElement(\"button\", { disabled: comment.newText.length === 0, type: \"submit\", className: \"comment__button comment__button--primary\" }, strings.COMMENT),\n                    react_1[\"default\"].createElement(\"button\", { type: \"button\", onClick: onCancel, className: \"comment__button\" }, strings.CANCEL)))));\n    };\n    CommentComponent.prototype.renderEditing = function () {\n        var _this = this;\n        var _a = this.props, comment = _a.comment, store = _a.store, strings = _a.strings, isFocused = _a.isFocused;\n        var onChangeText = function (value) {\n            store.dispatch(comments_2.updateComment(comment.localId, {\n                newText: value,\n            }));\n        };\n        var onSave = function (e) { return __awaiter(_this, void 0, void 0, function () {\n            return __generator(this, function (_a) {\n                switch (_a.label) {\n                    case 0:\n                        e.preventDefault();\n                        return [4 /*yield*/, saveComment(comment, store)];\n                    case 1:\n                        _a.sent();\n                        return [2 /*return*/];\n                }\n            });\n        }); };\n        var onCancel = function (e) {\n            e.preventDefault();\n            store.dispatch(comments_2.updateComment(comment.localId, {\n                mode: 'default',\n                newText: comment.text,\n            }));\n        };\n        var descriptionId = \"comment-description-\" + comment.localId;\n        return (react_1[\"default\"].createElement(react_1[\"default\"].Fragment, null,\n            react_1[\"default\"].createElement(CommentHeader_1.CommentHeader, { descriptionId: descriptionId, commentReply: comment, store: store, strings: strings, focused: isFocused }),\n            react_1[\"default\"].createElement(\"form\", { onSubmit: onSave },\n                react_1[\"default\"].createElement(TextArea_1[\"default\"], { focusTarget: isFocused, className: \"comment__input\", value: comment.newText, additionalAttributes: {\n                        'aria-describedby': descriptionId\n                    }, onChange: onChangeText }),\n                react_1[\"default\"].createElement(\"div\", { className: \"comment__actions\" },\n                    react_1[\"default\"].createElement(\"button\", { disabled: comment.newText.length === 0, type: \"submit\", className: \"comment__button comment__button--primary\" }, strings.SAVE),\n                    react_1[\"default\"].createElement(\"button\", { type: \"button\", onClick: onCancel, className: \"comment__button\" }, strings.CANCEL))),\n            this.renderReplies({ hideNewReply: true })));\n    };\n    CommentComponent.prototype.renderSaving = function () {\n        var _a = this.props, comment = _a.comment, store = _a.store, strings = _a.strings, isFocused = _a.isFocused;\n        return (react_1[\"default\"].createElement(react_1[\"default\"].Fragment, null,\n            react_1[\"default\"].createElement(CommentHeader_1.CommentHeader, { commentReply: comment, store: store, strings: strings, focused: isFocused }),\n            react_1[\"default\"].createElement(\"p\", { className: \"comment__text\" }, comment.text),\n            react_1[\"default\"].createElement(\"div\", { className: \"comment__progress\" }, strings.SAVING),\n            this.renderReplies({ hideNewReply: true })));\n    };\n    CommentComponent.prototype.renderSaveError = function () {\n        var _this = this;\n        var _a = this.props, comment = _a.comment, store = _a.store, strings = _a.strings, isFocused = _a.isFocused;\n        var onClickRetry = function (e) { return __awaiter(_this, void 0, void 0, function () {\n            return __generator(this, function (_a) {\n                switch (_a.label) {\n                    case 0:\n                        e.preventDefault();\n                        return [4 /*yield*/, saveComment(comment, store)];\n                    case 1:\n                        _a.sent();\n                        return [2 /*return*/];\n                }\n            });\n        }); };\n        return (react_1[\"default\"].createElement(react_1[\"default\"].Fragment, null,\n            react_1[\"default\"].createElement(CommentHeader_1.CommentHeader, { commentReply: comment, store: store, strings: strings, focused: isFocused }),\n            react_1[\"default\"].createElement(\"p\", { className: \"comment__text\" }, comment.text),\n            this.renderReplies({ hideNewReply: true }),\n            react_1[\"default\"].createElement(\"div\", { className: \"comment__error\" },\n                strings.SAVE_ERROR,\n                react_1[\"default\"].createElement(\"button\", { type: \"button\", className: \"comment__button\", onClick: onClickRetry }, strings.RETRY))));\n    };\n    CommentComponent.prototype.renderDeleteConfirm = function () {\n        var _this = this;\n        var _a = this.props, comment = _a.comment, store = _a.store, strings = _a.strings, isFocused = _a.isFocused;\n        var onClickDelete = function (e) { return __awaiter(_this, void 0, void 0, function () {\n            return __generator(this, function (_a) {\n                switch (_a.label) {\n                    case 0:\n                        e.preventDefault();\n                        return [4 /*yield*/, doDeleteComment(comment, store)];\n                    case 1:\n                        _a.sent();\n                        return [2 /*return*/];\n                }\n            });\n        }); };\n        var onClickCancel = function (e) {\n            e.preventDefault();\n            store.dispatch(comments_2.updateComment(comment.localId, {\n                mode: 'default',\n            }));\n        };\n        return (react_1[\"default\"].createElement(react_1[\"default\"].Fragment, null,\n            react_1[\"default\"].createElement(CommentHeader_1.CommentHeader, { commentReply: comment, store: store, strings: strings, focused: isFocused }),\n            react_1[\"default\"].createElement(\"p\", { className: \"comment__text\" }, comment.text),\n            react_1[\"default\"].createElement(\"div\", { className: \"comment__confirm-delete\" },\n                strings.CONFIRM_DELETE_COMMENT,\n                react_1[\"default\"].createElement(\"button\", { type: \"button\", className: \"comment__button\", onClick: onClickCancel }, strings.CANCEL),\n                react_1[\"default\"].createElement(\"button\", { type: \"button\", className: \"comment__button comment__button--primary\", onClick: onClickDelete }, strings.DELETE)),\n            this.renderReplies({ hideNewReply: true })));\n    };\n    CommentComponent.prototype.renderDeleting = function () {\n        var _a = this.props, comment = _a.comment, store = _a.store, strings = _a.strings, isFocused = _a.isFocused;\n        return (react_1[\"default\"].createElement(react_1[\"default\"].Fragment, null,\n            react_1[\"default\"].createElement(CommentHeader_1.CommentHeader, { commentReply: comment, store: store, strings: strings, focused: isFocused }),\n            react_1[\"default\"].createElement(\"p\", { className: \"comment__text\" }, comment.text),\n            react_1[\"default\"].createElement(\"div\", { className: \"comment__progress\" }, strings.DELETING),\n            this.renderReplies({ hideNewReply: true })));\n    };\n    CommentComponent.prototype.renderDeleteError = function () {\n        var _this = this;\n        var _a = this.props, comment = _a.comment, store = _a.store, strings = _a.strings, isFocused = _a.isFocused;\n        var onClickRetry = function (e) { return __awaiter(_this, void 0, void 0, function () {\n            return __generator(this, function (_a) {\n                switch (_a.label) {\n                    case 0:\n                        e.preventDefault();\n                        return [4 /*yield*/, doDeleteComment(comment, store)];\n                    case 1:\n                        _a.sent();\n                        return [2 /*return*/];\n                }\n            });\n        }); };\n        var onClickCancel = function (e) { return __awaiter(_this, void 0, void 0, function () {\n            return __generator(this, function (_a) {\n                e.preventDefault();\n                store.dispatch(comments_2.updateComment(comment.localId, {\n                    mode: 'default',\n                }));\n                return [2 /*return*/];\n            });\n        }); };\n        return (react_1[\"default\"].createElement(react_1[\"default\"].Fragment, null,\n            react_1[\"default\"].createElement(CommentHeader_1.CommentHeader, { commentReply: comment, store: store, strings: strings, focused: isFocused }),\n            react_1[\"default\"].createElement(\"p\", { className: \"comment__text\" }, comment.text),\n            this.renderReplies({ hideNewReply: true }),\n            react_1[\"default\"].createElement(\"div\", { className: \"comment__error\" },\n                strings.DELETE_ERROR,\n                react_1[\"default\"].createElement(\"button\", { type: \"button\", className: \"comment__button\", onClick: onClickCancel }, strings.CANCEL),\n                react_1[\"default\"].createElement(\"button\", { type: \"button\", className: \"comment__button\", onClick: onClickRetry }, strings.RETRY))));\n    };\n    CommentComponent.prototype.renderDefault = function () {\n        var _a = this.props, comment = _a.comment, store = _a.store, strings = _a.strings, isFocused = _a.isFocused;\n        // Show edit/delete buttons if this comment was authored by the current user\n        var onEdit;\n        var onDelete;\n        if (comment.author === null || this.props.user && this.props.user.id === comment.author.id) {\n            onEdit = function () {\n                store.dispatch(comments_2.updateComment(comment.localId, {\n                    mode: 'editing',\n                    newText: comment.text,\n                }));\n            };\n            onDelete = function () {\n                store.dispatch(comments_2.updateComment(comment.localId, {\n                    mode: 'delete_confirm',\n                }));\n            };\n        }\n        var notice = '';\n        if (!comment.remoteId) {\n            // Save the page to add this comment\n            notice = strings.SAVE_PAGE_TO_ADD_COMMENT;\n        }\n        else if (comment.text !== comment.originalText) {\n            // Save the page to save this comment\n            notice = strings.SAVE_PAGE_TO_SAVE_COMMENT_CHANGES;\n        }\n        return (react_1[\"default\"].createElement(react_1[\"default\"].Fragment, null,\n            react_1[\"default\"].createElement(CommentHeader_1.CommentHeader, { commentReply: comment, store: store, strings: strings, onResolve: doResolveComment, onEdit: onEdit, onDelete: onDelete, focused: isFocused }),\n            react_1[\"default\"].createElement(\"p\", { className: \"comment__text\" }, comment.text),\n            notice &&\n                react_1[\"default\"].createElement(\"div\", { className: \"comment__notice-placeholder\" },\n                    react_1[\"default\"].createElement(\"div\", { className: \"comment__notice\", role: \"status\" },\n                        react_1[\"default\"].createElement(Icon_1[\"default\"], { name: \"info-circle\" }),\n                        notice)),\n            this.renderReplies()));\n    };\n    CommentComponent.prototype.render = function () {\n        var _this = this;\n        var inner;\n        switch (this.props.comment.mode) {\n            case 'creating':\n                inner = this.renderCreating();\n                break;\n            case 'editing':\n                inner = this.renderEditing();\n                break;\n            case 'saving':\n                inner = this.renderSaving();\n                break;\n            case 'save_error':\n                inner = this.renderSaveError();\n                break;\n            case 'delete_confirm':\n                inner = this.renderDeleteConfirm();\n                break;\n            case 'deleting':\n                inner = this.renderDeleting();\n                break;\n            case 'delete_error':\n                inner = this.renderDeleteError();\n                break;\n            default:\n                inner = this.renderDefault();\n                break;\n        }\n        var onClick = function () {\n            _this.props.store.dispatch(comments_2.setFocusedComment(_this.props.comment.localId, { updatePinnedComment: false, forceFocus: _this.props.isFocused && _this.props.forceFocus }));\n        };\n        var onDoubleClick = function () {\n            _this.props.store.dispatch(comments_2.setFocusedComment(_this.props.comment.localId, { updatePinnedComment: true, forceFocus: true }));\n        };\n        var top = this.props.layout.getCommentPosition(this.props.comment.localId);\n        return (react_1[\"default\"].createElement(focus_trap_react_1[\"default\"], { focusTrapOptions: {\n                preventScroll: true,\n                clickOutsideDeactivates: true,\n                onDeactivate: function () {\n                    _this.props.store.dispatch(comments_2.setFocusedComment(null, { updatePinnedComment: true, forceFocus: false }));\n                },\n                initialFocus: '[data-focus-target=\"true\"]',\n            }, active: this.props.isFocused && this.props.forceFocus },\n            react_1[\"default\"].createElement(\"li\", { tabIndex: -1, \"data-focus-target\": this.props.isFocused && !['creating', 'editing'].includes(this.props.comment.mode), key: this.props.comment.localId, className: \"comment comment--mode-\" + this.props.comment.mode + \" \" + (this.props.isFocused ? 'comment--focused' : ''), style: {\n                    position: 'absolute',\n                    top: top + \"px\",\n                    display: this.props.isVisible ? 'block' : 'none',\n                }, \"data-comment-id\": this.props.comment.localId, onClick: onClick, onDoubleClick: onDoubleClick }, inner)));\n    };\n    CommentComponent.prototype.componentDidMount = function () {\n        var element = react_dom_1[\"default\"].findDOMNode(this);\n        if (element instanceof HTMLElement) {\n            this.props.layout.setCommentElement(this.props.comment.localId, element);\n            if (this.props.isVisible) {\n                this.props.layout.setCommentHeight(this.props.comment.localId, element.offsetHeight);\n            }\n        }\n    };\n    CommentComponent.prototype.componentWillUnmount = function () {\n        this.props.layout.setCommentElement(this.props.comment.localId, null);\n    };\n    CommentComponent.prototype.componentDidUpdate = function () {\n        var element = react_dom_1[\"default\"].findDOMNode(this);\n        // Keep height up to date so that other comments will be moved out of the way\n        if (this.props.isVisible && element instanceof HTMLElement) {\n            this.props.layout.setCommentHeight(this.props.comment.localId, element.offsetHeight);\n        }\n    };\n    return CommentComponent;\n}(react_1[\"default\"].Component));\nexports[\"default\"] = CommentComponent;\n","\"use strict\";\n/* eslint-disable react/prop-types */\nvar __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nvar __createBinding = (this && this.__createBinding) || (Object.create ? (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    Object.defineProperty(o, k2, { enumerable: true, get: function() { return m[k]; } });\n}) : (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    o[k2] = m[k];\n}));\nvar __setModuleDefault = (this && this.__setModuleDefault) || (Object.create ? (function(o, v) {\n    Object.defineProperty(o, \"default\", { enumerable: true, value: v });\n}) : function(o, v) {\n    o[\"default\"] = v;\n});\nvar __importStar = (this && this.__importStar) || function (mod) {\n    if (mod && mod.__esModule) return mod;\n    var result = {};\n    if (mod != null) for (var k in mod) if (k !== \"default\" && Object.prototype.hasOwnProperty.call(mod, k)) __createBinding(result, mod, k);\n    __setModuleDefault(result, mod);\n    return result;\n};\nvar __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\nvar __generator = (this && this.__generator) || function (thisArg, body) {\n    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;\n    return g = { next: verb(0), \"throw\": verb(1), \"return\": verb(2) }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function() { return this; }), g;\n    function verb(n) { return function (v) { return step([n, v]); }; }\n    function step(op) {\n        if (f) throw new TypeError(\"Generator is already executing.\");\n        while (_) try {\n            if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\n            if (y = 0, t) op = [op[0] & 2, t.value];\n            switch (op[0]) {\n                case 0: case 1: t = op; break;\n                case 4: _.label++; return { value: op[1], done: false };\n                case 5: _.label++; y = op[1]; op = [0]; continue;\n                case 7: op = _.ops.pop(); _.trys.pop(); continue;\n                default:\n                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\n                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\n                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\n                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\n                    if (t[2]) _.ops.pop();\n                    _.trys.pop(); continue;\n            }\n            op = body.call(thisArg, _);\n        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\n        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\n    }\n};\nvar __rest = (this && this.__rest) || function (s, e) {\n    var t = {};\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\n        t[p] = s[p];\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\n                t[p[i]] = s[p[i]];\n        }\n    return t;\n};\nvar __read = (this && this.__read) || function (o, n) {\n    var m = typeof Symbol === \"function\" && o[Symbol.iterator];\n    if (!m) return o;\n    var i = m.call(o), r, ar = [], e;\n    try {\n        while ((n === void 0 || n-- > 0) && !(r = i.next()).done) ar.push(r.value);\n    }\n    catch (error) { e = { error: error }; }\n    finally {\n        try {\n            if (r && !r.done && (m = i[\"return\"])) m.call(i);\n        }\n        finally { if (e) throw e.error; }\n    }\n    return ar;\n};\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nexports.__esModule = true;\nexports.CommentHeader = void 0;\nvar dateformat_1 = __importDefault(require(\"dateformat\"));\nvar react_1 = __importStar(require(\"react\"));\nvar Icon_1 = __importDefault(require(\"../../../Icon/Icon\"));\nvar wagtailConfig_1 = require(\"../../../../config/wagtailConfig\");\n// Details/Summary components that just become <details>/<summary> tags\n// except for IE11 where they become <div> tags to allow us to style them\nvar Details = function (_a) {\n    var children = _a.children, open = _a.open, extraProps = __rest(_a, [\"children\", \"open\"]);\n    if (wagtailConfig_1.IS_IE11) {\n        return (react_1[\"default\"].createElement(\"div\", __assign({ className: 'details-fallback' + (open ? ' details-fallback--open' : '') }, extraProps), children));\n    }\n    return (react_1[\"default\"].createElement(\"details\", __assign({ open: open }, extraProps), children));\n};\nvar Summary = function (_a) {\n    var children = _a.children, extraProps = __rest(_a, [\"children\"]);\n    if (wagtailConfig_1.IS_IE11) {\n        return (react_1[\"default\"].createElement(\"button\", __assign({ className: \"details-fallback__summary\" }, extraProps), children));\n    }\n    return (react_1[\"default\"].createElement(\"summary\", __assign({}, extraProps), children));\n};\nvar CommentHeader = function (_a) {\n    var commentReply = _a.commentReply, store = _a.store, strings = _a.strings, onResolve = _a.onResolve, onEdit = _a.onEdit, onDelete = _a.onDelete, descriptionId = _a.descriptionId, focused = _a.focused;\n    var author = commentReply.author, date = commentReply.date;\n    var onClickResolve = function (e) {\n        e.preventDefault();\n        if (onResolve) {\n            onResolve(commentReply, store);\n        }\n    };\n    var onClickEdit = function (e) { return __awaiter(void 0, void 0, void 0, function () {\n        return __generator(this, function (_a) {\n            e.preventDefault();\n            if (onEdit) {\n                onEdit(commentReply, store);\n            }\n            return [2 /*return*/];\n        });\n    }); };\n    var onClickDelete = function (e) { return __awaiter(void 0, void 0, void 0, function () {\n        return __generator(this, function (_a) {\n            e.preventDefault();\n            if (onDelete) {\n                onDelete(commentReply, store);\n            }\n            return [2 /*return*/];\n        });\n    }); };\n    var _b = __read(react_1.useState(false), 2), menuOpen = _b[0], setMenuOpen = _b[1];\n    react_1.useEffect(function () {\n        if (menuOpen && !focused) {\n            setMenuOpen(false);\n        }\n    }, [focused]);\n    var menuRef = react_1.useRef(null);\n    var menuContainerRef = react_1.useRef(null);\n    var toggleMenu = function (e) {\n        e.preventDefault();\n        e.stopPropagation();\n        setMenuOpen(!menuOpen);\n    };\n    react_1.useEffect(function () {\n        if (menuOpen) {\n            setTimeout(function () { var _a; return (_a = menuRef.current) === null || _a === void 0 ? void 0 : _a.focus(); }, 1);\n        }\n    }, [menuOpen]);\n    var handleClickOutside = function (e) {\n        if (menuContainerRef.current && e.target instanceof Node && !menuContainerRef.current.contains(e.target)) {\n            setMenuOpen(false);\n        }\n    };\n    react_1.useEffect(function () {\n        document.addEventListener('click', handleClickOutside, true);\n        return function () {\n            document.removeEventListener('click', handleClickOutside, true);\n        };\n    }, []);\n    return (react_1[\"default\"].createElement(\"div\", { className: \"comment-header\" },\n        react_1[\"default\"].createElement(\"div\", { className: \"comment-header__actions\" }, (onEdit || onDelete || onResolve) &&\n            react_1[\"default\"].createElement(\"div\", { className: \"comment-header__action comment-header__action--more\", ref: menuContainerRef },\n                react_1[\"default\"].createElement(Details, { open: menuOpen, onClick: toggleMenu },\n                    react_1[\"default\"].createElement(Summary, { \"aria-label\": strings.MORE_ACTIONS, \"aria-haspopup\": \"menu\", role: \"button\", onClick: toggleMenu, \"aria-expanded\": menuOpen },\n                        react_1[\"default\"].createElement(Icon_1[\"default\"], { name: \"ellipsis-v\" })),\n                    react_1[\"default\"].createElement(\"div\", { className: \"comment-header__more-actions\", role: \"menu\", ref: menuRef },\n                        onEdit && react_1[\"default\"].createElement(\"button\", { type: \"button\", role: \"menuitem\", onClick: onClickEdit }, strings.EDIT),\n                        onDelete && react_1[\"default\"].createElement(\"button\", { type: \"button\", role: \"menuitem\", onClick: onClickDelete }, strings.DELETE),\n                        onResolve && react_1[\"default\"].createElement(\"button\", { type: \"button\", role: \"menuitem\", onClick: onClickResolve }, strings.RESOLVE))))),\n        author && author.avatarUrl &&\n            react_1[\"default\"].createElement(\"img\", { className: \"comment-header__avatar\", src: author.avatarUrl, role: \"presentation\" }),\n        react_1[\"default\"].createElement(\"span\", { id: descriptionId },\n            react_1[\"default\"].createElement(\"p\", { className: \"comment-header__author\" }, author ? author.name : ''),\n            react_1[\"default\"].createElement(\"p\", { className: \"comment-header__date\" }, dateformat_1[\"default\"](date, 'd mmm yyyy HH:MM')))));\n};\nexports.CommentHeader = CommentHeader;\n","\"use strict\";\n/* eslint-disable react/prop-types */\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        if (typeof b !== \"function\" && b !== null)\n            throw new TypeError(\"Class extends value \" + String(b) + \" is not a constructor or null\");\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\nvar __generator = (this && this.__generator) || function (thisArg, body) {\n    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;\n    return g = { next: verb(0), \"throw\": verb(1), \"return\": verb(2) }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function() { return this; }), g;\n    function verb(n) { return function (v) { return step([n, v]); }; }\n    function step(op) {\n        if (f) throw new TypeError(\"Generator is already executing.\");\n        while (_) try {\n            if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\n            if (y = 0, t) op = [op[0] & 2, t.value];\n            switch (op[0]) {\n                case 0: case 1: t = op; break;\n                case 4: _.label++; return { value: op[1], done: false };\n                case 5: _.label++; y = op[1]; op = [0]; continue;\n                case 7: op = _.ops.pop(); _.trys.pop(); continue;\n                default:\n                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\n                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\n                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\n                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\n                    if (t[2]) _.ops.pop();\n                    _.trys.pop(); continue;\n            }\n            op = body.call(thisArg, _);\n        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\n        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\n    }\n};\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nexports.__esModule = true;\nexports.saveCommentReply = void 0;\nvar react_1 = __importDefault(require(\"react\"));\nvar comments_1 = require(\"../../actions/comments\");\nvar CommentHeader_1 = require(\"../CommentHeader\");\nvar TextArea_1 = __importDefault(require(\"../TextArea\"));\nvar Icon_1 = __importDefault(require(\"../../../Icon/Icon\"));\nfunction saveCommentReply(comment, reply, store) {\n    return __awaiter(this, void 0, void 0, function () {\n        return __generator(this, function (_a) {\n            store.dispatch(comments_1.updateReply(comment.localId, reply.localId, {\n                mode: 'saving',\n            }));\n            try {\n                store.dispatch(comments_1.updateReply(comment.localId, reply.localId, {\n                    mode: 'default',\n                    text: reply.newText,\n                    author: reply.author,\n                }));\n            }\n            catch (err) {\n                /* eslint-disable-next-line no-console */\n                console.error(err);\n                store.dispatch(comments_1.updateReply(comment.localId, reply.localId, {\n                    mode: 'save_error',\n                }));\n            }\n            return [2 /*return*/];\n        });\n    });\n}\nexports.saveCommentReply = saveCommentReply;\nfunction deleteCommentReply(comment, reply, store) {\n    return __awaiter(this, void 0, void 0, function () {\n        return __generator(this, function (_a) {\n            store.dispatch(comments_1.updateReply(comment.localId, reply.localId, {\n                mode: 'deleting',\n            }));\n            try {\n                store.dispatch(comments_1.deleteReply(comment.localId, reply.localId));\n            }\n            catch (err) {\n                store.dispatch(comments_1.updateReply(comment.localId, reply.localId, {\n                    mode: 'delete_error',\n                }));\n            }\n            return [2 /*return*/];\n        });\n    });\n}\nvar CommentReplyComponent = /** @class */ (function (_super) {\n    __extends(CommentReplyComponent, _super);\n    function CommentReplyComponent() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    CommentReplyComponent.prototype.renderEditing = function () {\n        var _this = this;\n        var _a = this.props, comment = _a.comment, reply = _a.reply, store = _a.store, strings = _a.strings, isFocused = _a.isFocused;\n        var onChangeText = function (value) {\n            store.dispatch(comments_1.updateReply(comment.localId, reply.localId, {\n                newText: value,\n            }));\n        };\n        var onSave = function (e) { return __awaiter(_this, void 0, void 0, function () {\n            return __generator(this, function (_a) {\n                switch (_a.label) {\n                    case 0:\n                        e.preventDefault();\n                        return [4 /*yield*/, saveCommentReply(comment, reply, store)];\n                    case 1:\n                        _a.sent();\n                        return [2 /*return*/];\n                }\n            });\n        }); };\n        var onCancel = function (e) {\n            e.preventDefault();\n            store.dispatch(comments_1.updateReply(comment.localId, reply.localId, {\n                mode: 'default',\n                newText: reply.text,\n            }));\n        };\n        return (react_1[\"default\"].createElement(react_1[\"default\"].Fragment, null,\n            react_1[\"default\"].createElement(CommentHeader_1.CommentHeader, { commentReply: reply, store: store, strings: strings, focused: isFocused }),\n            react_1[\"default\"].createElement(\"form\", { onSubmit: onSave },\n                react_1[\"default\"].createElement(TextArea_1[\"default\"], { className: \"comment-reply__input\", value: reply.newText, onChange: onChangeText }),\n                react_1[\"default\"].createElement(\"div\", { className: \"comment-reply__actions\" },\n                    react_1[\"default\"].createElement(\"button\", { type: \"submit\", disabled: reply.newText.length === 0, className: \"comment-reply__button comment-reply__button--primary\" }, strings.SAVE),\n                    react_1[\"default\"].createElement(\"button\", { type: \"button\", className: \"comment-reply__button\", onClick: onCancel }, strings.CANCEL)))));\n    };\n    CommentReplyComponent.prototype.renderSaving = function () {\n        var _a = this.props, reply = _a.reply, store = _a.store, strings = _a.strings, isFocused = _a.isFocused;\n        return (react_1[\"default\"].createElement(react_1[\"default\"].Fragment, null,\n            react_1[\"default\"].createElement(CommentHeader_1.CommentHeader, { commentReply: reply, store: store, strings: strings, focused: isFocused }),\n            react_1[\"default\"].createElement(\"p\", { className: \"comment-reply__text\" }, reply.text),\n            react_1[\"default\"].createElement(\"div\", { className: \"comment-reply__progress\" }, strings.SAVING)));\n    };\n    CommentReplyComponent.prototype.renderSaveError = function () {\n        var _this = this;\n        var _a = this.props, comment = _a.comment, reply = _a.reply, store = _a.store, strings = _a.strings, isFocused = _a.isFocused;\n        var onClickRetry = function (e) { return __awaiter(_this, void 0, void 0, function () {\n            return __generator(this, function (_a) {\n                switch (_a.label) {\n                    case 0:\n                        e.preventDefault();\n                        return [4 /*yield*/, saveCommentReply(comment, reply, store)];\n                    case 1:\n                        _a.sent();\n                        return [2 /*return*/];\n                }\n            });\n        }); };\n        return (react_1[\"default\"].createElement(react_1[\"default\"].Fragment, null,\n            react_1[\"default\"].createElement(CommentHeader_1.CommentHeader, { commentReply: reply, store: store, strings: strings, focused: isFocused }),\n            react_1[\"default\"].createElement(\"p\", { className: \"comment-reply__text\" }, reply.text),\n            react_1[\"default\"].createElement(\"div\", { className: \"comment-reply__error\" },\n                strings.SAVE_ERROR,\n                react_1[\"default\"].createElement(\"button\", { type: \"button\", className: \"comment-reply__button\", onClick: onClickRetry }, strings.RETRY))));\n    };\n    CommentReplyComponent.prototype.renderDeleteConfirm = function () {\n        var _this = this;\n        var _a = this.props, comment = _a.comment, reply = _a.reply, store = _a.store, strings = _a.strings, isFocused = _a.isFocused;\n        var onClickDelete = function (e) { return __awaiter(_this, void 0, void 0, function () {\n            return __generator(this, function (_a) {\n                switch (_a.label) {\n                    case 0:\n                        e.preventDefault();\n                        return [4 /*yield*/, deleteCommentReply(comment, reply, store)];\n                    case 1:\n                        _a.sent();\n                        return [2 /*return*/];\n                }\n            });\n        }); };\n        var onClickCancel = function (e) {\n            e.preventDefault();\n            store.dispatch(comments_1.updateReply(comment.localId, reply.localId, {\n                mode: 'default',\n            }));\n        };\n        return (react_1[\"default\"].createElement(react_1[\"default\"].Fragment, null,\n            react_1[\"default\"].createElement(CommentHeader_1.CommentHeader, { commentReply: reply, store: store, strings: strings, focused: isFocused }),\n            react_1[\"default\"].createElement(\"p\", { className: \"comment-reply__text\" }, reply.text),\n            react_1[\"default\"].createElement(\"div\", { className: \"comment-reply__confirm-delete\" },\n                strings.CONFIRM_DELETE_COMMENT,\n                react_1[\"default\"].createElement(\"button\", { type: \"button\", className: \"comment-reply__button\", onClick: onClickCancel }, strings.CANCEL),\n                react_1[\"default\"].createElement(\"button\", { type: \"button\", className: \"comment-reply__button comment-reply__button--primary\", onClick: onClickDelete }, strings.DELETE))));\n    };\n    CommentReplyComponent.prototype.renderDeleting = function () {\n        var _a = this.props, reply = _a.reply, store = _a.store, strings = _a.strings, isFocused = _a.isFocused;\n        return (react_1[\"default\"].createElement(react_1[\"default\"].Fragment, null,\n            react_1[\"default\"].createElement(CommentHeader_1.CommentHeader, { commentReply: reply, store: store, strings: strings, focused: isFocused }),\n            react_1[\"default\"].createElement(\"p\", { className: \"comment-reply__text\" }, reply.text),\n            react_1[\"default\"].createElement(\"div\", { className: \"comment-reply__progress\" }, strings.DELETING)));\n    };\n    CommentReplyComponent.prototype.renderDeleteError = function () {\n        var _this = this;\n        var _a = this.props, comment = _a.comment, reply = _a.reply, store = _a.store, strings = _a.strings, isFocused = _a.isFocused;\n        var onClickRetry = function (e) { return __awaiter(_this, void 0, void 0, function () {\n            return __generator(this, function (_a) {\n                switch (_a.label) {\n                    case 0:\n                        e.preventDefault();\n                        return [4 /*yield*/, deleteCommentReply(comment, reply, store)];\n                    case 1:\n                        _a.sent();\n                        return [2 /*return*/];\n                }\n            });\n        }); };\n        var onClickCancel = function (e) { return __awaiter(_this, void 0, void 0, function () {\n            return __generator(this, function (_a) {\n                e.preventDefault();\n                store.dispatch(comments_1.updateReply(comment.localId, reply.localId, {\n                    mode: 'default',\n                }));\n                return [2 /*return*/];\n            });\n        }); };\n        return (react_1[\"default\"].createElement(react_1[\"default\"].Fragment, null,\n            react_1[\"default\"].createElement(CommentHeader_1.CommentHeader, { commentReply: reply, store: store, strings: strings, focused: isFocused }),\n            react_1[\"default\"].createElement(\"p\", { className: \"comment-reply__text\" }, reply.text),\n            react_1[\"default\"].createElement(\"div\", { className: \"comment-reply__error\" },\n                strings.DELETE_ERROR,\n                react_1[\"default\"].createElement(\"button\", { type: \"button\", className: \"comment-reply__button\", onClick: onClickCancel }, strings.CANCEL),\n                react_1[\"default\"].createElement(\"button\", { type: \"button\", className: \"comment-reply__button\", onClick: onClickRetry }, strings.RETRY))));\n    };\n    CommentReplyComponent.prototype.renderDefault = function () {\n        var _a = this.props, comment = _a.comment, reply = _a.reply, store = _a.store, strings = _a.strings, isFocused = _a.isFocused;\n        // Show edit/delete buttons if this reply was authored by the current user\n        var onEdit;\n        var onDelete;\n        if (reply.author === null || this.props.user && this.props.user.id === reply.author.id) {\n            onEdit = function () {\n                store.dispatch(comments_1.updateReply(comment.localId, reply.localId, {\n                    mode: 'editing',\n                    newText: reply.text,\n                }));\n            };\n            onDelete = function () {\n                store.dispatch(comments_1.updateReply(comment.localId, reply.localId, {\n                    mode: 'delete_confirm',\n                }));\n            };\n        }\n        var notice = '';\n        if (!reply.remoteId || reply.text !== reply.originalText) {\n            // Save the page to save this reply\n            notice = strings.SAVE_PAGE_TO_SAVE_REPLY;\n        }\n        return (react_1[\"default\"].createElement(react_1[\"default\"].Fragment, null,\n            react_1[\"default\"].createElement(CommentHeader_1.CommentHeader, { commentReply: reply, store: store, strings: strings, onEdit: onEdit, onDelete: onDelete, focused: isFocused }),\n            react_1[\"default\"].createElement(\"p\", { className: \"comment-reply__text\" }, reply.text),\n            notice &&\n                react_1[\"default\"].createElement(\"div\", { className: \"comment__notice-placeholder\" },\n                    react_1[\"default\"].createElement(\"div\", { className: \"comment__notice\", role: \"status\" },\n                        react_1[\"default\"].createElement(Icon_1[\"default\"], { name: \"info-circle\" }),\n                        notice))));\n    };\n    CommentReplyComponent.prototype.render = function () {\n        var inner;\n        switch (this.props.reply.mode) {\n            case 'editing':\n                inner = this.renderEditing();\n                break;\n            case 'saving':\n                inner = this.renderSaving();\n                break;\n            case 'save_error':\n                inner = this.renderSaveError();\n                break;\n            case 'delete_confirm':\n                inner = this.renderDeleteConfirm();\n                break;\n            case 'deleting':\n                inner = this.renderDeleting();\n                break;\n            case 'delete_error':\n                inner = this.renderDeleteError();\n                break;\n            default:\n                inner = this.renderDefault();\n                break;\n        }\n        return (react_1[\"default\"].createElement(\"li\", { key: this.props.reply.localId, className: \"comment-reply comment-reply--mode-\" + this.props.reply.mode, \"data-reply-id\": this.props.reply.localId }, inner));\n    };\n    return CommentReplyComponent;\n}(react_1[\"default\"].Component));\nexports[\"default\"] = CommentReplyComponent;\n","\"use strict\";\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nexports.__esModule = true;\nexports.CommentFormSetComponent = exports.CommentFormComponent = exports.CommentReplyFormSetComponent = exports.CommentReplyFormComponent = void 0;\nvar react_1 = __importDefault(require(\"react\"));\nfunction PrefixedHiddenInput(_a) {\n    var prefix = _a.prefix, value = _a.value, fieldName = _a.fieldName;\n    return (react_1[\"default\"].createElement(\"input\", { type: \"hidden\", name: prefix + \"-\" + fieldName, value: value === null ? '' : value, id: \"id_\" + prefix + \"-\" + fieldName }));\n}\nfunction CommentReplyFormComponent(_a) {\n    var reply = _a.reply, formNumber = _a.formNumber, prefix = _a.prefix;\n    var fullPrefix = prefix + \"-\" + formNumber;\n    return (react_1[\"default\"].createElement(\"fieldset\", null,\n        react_1[\"default\"].createElement(PrefixedHiddenInput, { fieldName: \"DELETE\", value: reply.deleted ? 1 : '', prefix: fullPrefix }),\n        react_1[\"default\"].createElement(PrefixedHiddenInput, { fieldName: \"id\", value: reply.remoteId, prefix: fullPrefix }),\n        react_1[\"default\"].createElement(PrefixedHiddenInput, { fieldName: \"text\", value: reply.text, prefix: fullPrefix })));\n}\nexports.CommentReplyFormComponent = CommentReplyFormComponent;\nfunction CommentReplyFormSetComponent(_a) {\n    var replies = _a.replies, prefix = _a.prefix, remoteReplyCount = _a.remoteReplyCount;\n    var fullPrefix = prefix + \"-replies\";\n    var commentForms = replies.map(function (reply, formNumber) { return (react_1[\"default\"].createElement(CommentReplyFormComponent, { key: reply.localId, formNumber: formNumber, reply: reply, prefix: fullPrefix })); });\n    return (react_1[\"default\"].createElement(react_1[\"default\"].Fragment, null,\n        react_1[\"default\"].createElement(PrefixedHiddenInput, { fieldName: \"TOTAL_FORMS\", value: replies.length, prefix: fullPrefix }),\n        react_1[\"default\"].createElement(PrefixedHiddenInput, { fieldName: \"INITIAL_FORMS\", value: remoteReplyCount, prefix: fullPrefix }),\n        react_1[\"default\"].createElement(PrefixedHiddenInput, { fieldName: \"MIN_NUM_FORMS\", value: \"0\", prefix: fullPrefix }),\n        react_1[\"default\"].createElement(PrefixedHiddenInput, { fieldName: \"MAX_NUM_FORMS\", value: \"\", prefix: fullPrefix }),\n        commentForms));\n}\nexports.CommentReplyFormSetComponent = CommentReplyFormSetComponent;\nfunction CommentFormComponent(_a) {\n    var comment = _a.comment, formNumber = _a.formNumber, prefix = _a.prefix;\n    var fullPrefix = prefix + \"-\" + formNumber;\n    return (react_1[\"default\"].createElement(\"fieldset\", null,\n        react_1[\"default\"].createElement(PrefixedHiddenInput, { fieldName: \"DELETE\", value: comment.deleted ? 1 : '', prefix: fullPrefix }),\n        react_1[\"default\"].createElement(PrefixedHiddenInput, { fieldName: \"resolved\", value: comment.resolved ? 1 : '', prefix: fullPrefix }),\n        react_1[\"default\"].createElement(PrefixedHiddenInput, { fieldName: \"id\", value: comment.remoteId, prefix: fullPrefix }),\n        react_1[\"default\"].createElement(PrefixedHiddenInput, { fieldName: \"contentpath\", value: comment.contentpath, prefix: fullPrefix }),\n        react_1[\"default\"].createElement(PrefixedHiddenInput, { fieldName: \"text\", value: comment.text, prefix: fullPrefix }),\n        react_1[\"default\"].createElement(PrefixedHiddenInput, { fieldName: \"position\", value: comment.position, prefix: fullPrefix }),\n        react_1[\"default\"].createElement(CommentReplyFormSetComponent, { replies: Array.from(comment.replies.values()), prefix: fullPrefix, remoteReplyCount: comment.remoteReplyCount })));\n}\nexports.CommentFormComponent = CommentFormComponent;\nfunction CommentFormSetComponent(_a) {\n    var comments = _a.comments, remoteCommentCount = _a.remoteCommentCount;\n    var prefix = 'comments';\n    var commentForms = comments.map(function (comment, formNumber) { return (react_1[\"default\"].createElement(CommentFormComponent, { key: comment.localId, comment: comment, formNumber: formNumber, prefix: prefix })); });\n    return (react_1[\"default\"].createElement(react_1[\"default\"].Fragment, null,\n        react_1[\"default\"].createElement(PrefixedHiddenInput, { fieldName: \"TOTAL_FORMS\", value: comments.length, prefix: prefix }),\n        react_1[\"default\"].createElement(PrefixedHiddenInput, { fieldName: \"INITIAL_FORMS\", value: remoteCommentCount, prefix: prefix }),\n        react_1[\"default\"].createElement(PrefixedHiddenInput, { fieldName: \"MIN_NUM_FORMS\", value: \"0\", prefix: prefix }),\n        react_1[\"default\"].createElement(PrefixedHiddenInput, { fieldName: \"MAX_NUM_FORMS\", value: \"\", prefix: prefix }),\n        commentForms));\n}\nexports.CommentFormSetComponent = CommentFormSetComponent;\n","\"use strict\";\nvar __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nexports.__esModule = true;\nvar react_1 = __importDefault(require(\"react\"));\nvar TextArea = react_1[\"default\"].forwardRef(function (_a, ref) {\n    var value = _a.value, className = _a.className, placeholder = _a.placeholder, onChange = _a.onChange, focusOnMount = _a.focusOnMount, _b = _a.focusTarget, focusTarget = _b === void 0 ? false : _b, _c = _a.additionalAttributes, additionalAttributes = _c === void 0 ? {} : _c;\n    var onChangeValue = function (e) {\n        if (onChange) {\n            onChange(e.target.value);\n        }\n    };\n    // Resize the textarea whenever the value is changed\n    var textAreaElement = react_1[\"default\"].useRef(null);\n    react_1[\"default\"].useImperativeHandle(ref, function () { return textAreaElement.current; });\n    react_1[\"default\"].useEffect(function () {\n        if (textAreaElement.current) {\n            textAreaElement.current.style.height = '';\n            textAreaElement.current.style.height =\n                textAreaElement.current.scrollHeight + 'px';\n        }\n    }, [value, textAreaElement]);\n    // Focus the textarea when it is mounted\n    react_1[\"default\"].useEffect(function () {\n        if (focusOnMount && textAreaElement.current) {\n            textAreaElement.current.focus();\n        }\n    }, [textAreaElement]);\n    return (react_1[\"default\"].createElement(\"textarea\", __assign({ \"data-focus-target\": focusTarget, rows: 1, style: { resize: 'none', overflowY: 'hidden' }, className: className, placeholder: placeholder, ref: textAreaElement, onChange: onChangeValue, value: value }, additionalAttributes)));\n});\nexports[\"default\"] = TextArea;\n","\"use strict\";\nvar __values = (this && this.__values) || function(o) {\n    var s = typeof Symbol === \"function\" && Symbol.iterator, m = s && o[s], i = 0;\n    if (m) return m.call(o);\n    if (o && typeof o.length === \"number\") return {\n        next: function () {\n            if (o && i >= o.length) o = void 0;\n            return { value: o && o[i++], done: !o };\n        }\n    };\n    throw new TypeError(s ? \"Object is not iterable.\" : \"Symbol.iterator is not defined.\");\n};\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nexports.__esModule = true;\nexports.initCommentApp = exports.CommentApp = exports.defaultStrings = void 0;\nvar react_1 = __importDefault(require(\"react\"));\nvar react_dom_1 = __importDefault(require(\"react-dom\"));\nvar redux_1 = require(\"redux\");\nvar layout_1 = require(\"./utils/layout\");\nvar maps_1 = require(\"./utils/maps\");\nvar sequences_1 = require(\"./utils/sequences\");\nvar state_1 = require(\"./state\");\nvar comments_1 = require(\"./state/comments\");\nvar comments_2 = require(\"./actions/comments\");\nvar settings_1 = require(\"./actions/settings\");\nvar selectors_1 = require(\"./selectors\");\nvar Comment_1 = __importDefault(require(\"./components/Comment\"));\nvar Form_1 = require(\"./components/Form\");\nvar settings_2 = require(\"./state/settings\");\nexports.defaultStrings = {\n    COMMENT: 'Comment',\n    SAVE: 'Save',\n    SAVING: 'Saving...',\n    CANCEL: 'Cancel',\n    DELETE: 'Delete',\n    DELETING: 'Deleting...',\n    SHOW_COMMENTS: 'Show comments',\n    EDIT: 'Edit',\n    REPLY: 'Reply',\n    RESOLVE: 'Resolve',\n    RETRY: 'Retry',\n    DELETE_ERROR: 'Delete error',\n    CONFIRM_DELETE_COMMENT: 'Are you sure?',\n    SAVE_ERROR: 'Save error',\n    MORE_ACTIONS: 'More actions',\n    SAVE_PAGE_TO_ADD_COMMENT: 'Save the page to add this comment',\n    SAVE_PAGE_TO_SAVE_COMMENT_CHANGES: 'Save the page to save this comment',\n    SAVE_PAGE_TO_SAVE_REPLY: 'Save the page to save this reply',\n};\n/* eslint-enable */\n// eslint-disable-next-line camelcase\nvar getAuthor = function (authors, id) {\n    var authorData = maps_1.getOrDefault(authors, String(id), { name: '', avatar_url: '' });\n    return {\n        id: id,\n        name: authorData.name,\n        avatarUrl: authorData.avatar_url,\n    };\n};\nfunction renderCommentsUi(store, layout, comments, strings) {\n    var state = store.getState();\n    var _a = state.settings, commentsEnabled = _a.commentsEnabled, user = _a.user, currentTab = _a.currentTab;\n    var _b = state.comments, focusedComment = _b.focusedComment, forceFocus = _b.forceFocus;\n    var commentsToRender = comments;\n    if (!commentsEnabled || !user) {\n        commentsToRender = [];\n    }\n    // Hide all resolved/deleted comments\n    commentsToRender = commentsToRender.filter(function (_a) {\n        var deleted = _a.deleted, resolved = _a.resolved;\n        return !(deleted || resolved);\n    });\n    var commentsRendered = commentsToRender.map(function (comment) { return (react_1[\"default\"].createElement(Comment_1[\"default\"], { key: comment.localId, store: store, layout: layout, user: user, comment: comment, isFocused: comment.localId === focusedComment, forceFocus: forceFocus, isVisible: layout.getCommentVisible(currentTab, comment.localId), strings: strings })); });\n    return (react_1[\"default\"].createElement(\"ol\", { className: \"comments-list\" }, commentsRendered));\n    /* eslint-enable react/no-danger */\n}\nvar CommentApp = /** @class */ (function () {\n    function CommentApp() {\n        this.utils = {\n            selectCommentsForContentPathFactory: selectors_1.selectCommentsForContentPathFactory,\n            selectCommentFactory: selectors_1.selectCommentFactory\n        };\n        this.selectors = {\n            selectComments: selectors_1.selectComments,\n            selectEnabled: selectors_1.selectEnabled,\n            selectFocused: selectors_1.selectFocused,\n            selectIsDirty: selectors_1.selectIsDirty,\n            selectCommentCount: selectors_1.selectCommentCount\n        };\n        this.actions = comments_2.commentActionFunctions;\n        this.store = redux_1.createStore(state_1.reducer, {\n            settings: settings_2.INITIAL_STATE\n        });\n        this.layout = new layout_1.LayoutController();\n    }\n    // eslint-disable-next-line camelcase\n    CommentApp.prototype.setUser = function (userId, authors) {\n        this.store.dispatch(settings_1.updateGlobalSettings({\n            user: getAuthor(authors, userId)\n        }));\n    };\n    CommentApp.prototype.updateAnnotation = function (annotation, commentId) {\n        this.attachAnnotationLayout(annotation, commentId);\n        this.store.dispatch(comments_2.updateComment(commentId, { annotation: annotation }));\n    };\n    CommentApp.prototype.attachAnnotationLayout = function (annotation, commentId) {\n        // Attach an annotation to an existing comment in the layout\n        // const layout engine know the annotation so it would position the comment correctly\n        this.layout.setCommentAnnotation(commentId, annotation);\n    };\n    CommentApp.prototype.setCurrentTab = function (tab) {\n        this.store.dispatch(settings_1.updateGlobalSettings({ currentTab: tab }));\n    };\n    CommentApp.prototype.makeComment = function (annotation, contentpath, position) {\n        if (position === void 0) { position = ''; }\n        var commentId = sequences_1.getNextCommentId();\n        this.attachAnnotationLayout(annotation, commentId);\n        // Create the comment\n        this.store.dispatch(comments_2.addComment(comments_1.newComment(contentpath, position, commentId, annotation, this.store.getState().settings.user, Date.now(), {\n            mode: 'creating',\n        })));\n        // Focus and pin the comment\n        this.store.dispatch(comments_2.setFocusedComment(commentId, { updatePinnedComment: true, forceFocus: true }));\n        return commentId;\n    };\n    CommentApp.prototype.setVisible = function (visible) {\n        this.store.dispatch(settings_1.updateGlobalSettings({\n            commentsEnabled: visible,\n        }));\n    };\n    CommentApp.prototype.invalidateContentPath = function (contentPath) {\n        // Called when a given content path on the form is no longer valid (eg, a block has been deleted)\n        this.store.dispatch(comments_2.invalidateContentPath(contentPath));\n    };\n    CommentApp.prototype.renderApp = function (element, outputElement, userId, initialComments, \n    // eslint-disable-next-line camelcase\n    authors, translationStrings) {\n        var e_1, _a, e_2, _b;\n        var _this = this;\n        var pinnedComment = null;\n        this.setUser(userId, authors);\n        var strings = translationStrings || exports.defaultStrings;\n        // Check if there is \"comment\" query parameter.\n        // If this is set, the user has clicked on a \"View on frontend\" link of an\n        // individual comment. We should focus this comment and scroll to it\n        var urlParams = new URLSearchParams(window.location.search);\n        var initialFocusedCommentId = null;\n        var commentParams = urlParams.get('comment');\n        if (commentParams) {\n            initialFocusedCommentId = parseInt(commentParams, 10);\n        }\n        var render = function () {\n            var state = _this.store.getState();\n            var commentList = Array.from(state.comments.comments.values());\n            react_dom_1[\"default\"].render(react_1[\"default\"].createElement(Form_1.CommentFormSetComponent, { comments: commentList.filter(function (comment) { return comment.mode !== 'creating'; }), remoteCommentCount: state.comments.remoteCommentCount }), outputElement);\n            // Check if the pinned comment has changed\n            if (state.comments.pinnedComment !== pinnedComment) {\n                // Tell layout controller about the pinned comment\n                // so it is moved alongside its annotation\n                _this.layout.setPinnedComment(state.comments.pinnedComment);\n                pinnedComment = state.comments.pinnedComment;\n            }\n            react_dom_1[\"default\"].render(renderCommentsUi(_this.store, _this.layout, commentList, strings), element, function () {\n                // Render again if layout has changed (eg, a comment was added, deleted or resized)\n                // This will just update the \"top\" style attributes in the comments to get them to move\n                _this.layout.refreshDesiredPositions(state.settings.currentTab);\n                if (_this.layout.refreshLayout()) {\n                    react_dom_1[\"default\"].render(renderCommentsUi(_this.store, _this.layout, commentList, strings), element);\n                }\n            });\n        };\n        try {\n            // Fetch existing comments\n            for (var initialComments_1 = __values(initialComments), initialComments_1_1 = initialComments_1.next(); !initialComments_1_1.done; initialComments_1_1 = initialComments_1.next()) {\n                var comment = initialComments_1_1.value;\n                var commentId = sequences_1.getNextCommentId();\n                // Create comment\n                this.store.dispatch(comments_2.addComment(comments_1.newComment(comment.contentpath, comment.position, commentId, null, getAuthor(authors, comment.user), Date.parse(comment.created_at), {\n                    remoteId: comment.pk,\n                    text: comment.text,\n                    deleted: comment.deleted,\n                    resolved: comment.resolved\n                })));\n                try {\n                    // Create replies\n                    for (var _c = (e_2 = void 0, __values(comment.replies)), _d = _c.next(); !_d.done; _d = _c.next()) {\n                        var reply = _d.value;\n                        this.store.dispatch(comments_2.addReply(commentId, comments_1.newCommentReply(sequences_1.getNextReplyId(), getAuthor(authors, reply.user), Date.parse(reply.created_at), {\n                            remoteId: reply.pk,\n                            text: reply.text,\n                            deleted: reply.deleted\n                        })));\n                    }\n                }\n                catch (e_2_1) { e_2 = { error: e_2_1 }; }\n                finally {\n                    try {\n                        if (_d && !_d.done && (_b = _c[\"return\"])) _b.call(_c);\n                    }\n                    finally { if (e_2) throw e_2.error; }\n                }\n                // If this is the initial focused comment. Focus and pin it\n                // TODO: Scroll to this comment\n                if (initialFocusedCommentId && comment.pk === initialFocusedCommentId) {\n                    this.store.dispatch(comments_2.setFocusedComment(commentId, { updatePinnedComment: true, forceFocus: true }));\n                }\n            }\n        }\n        catch (e_1_1) { e_1 = { error: e_1_1 }; }\n        finally {\n            try {\n                if (initialComments_1_1 && !initialComments_1_1.done && (_a = initialComments_1[\"return\"])) _a.call(initialComments_1);\n            }\n            finally { if (e_1) throw e_1.error; }\n        }\n        render();\n        this.store.subscribe(render);\n        // Unfocus when document body is clicked\n        document.body.addEventListener('mousedown', function (e) {\n            if (e.target instanceof HTMLElement) {\n                // ignore if click target is a comment or an annotation\n                if (!e.target.closest('#comments, [data-annotation], [data-comment-add]')) {\n                    // Running store.dispatch directly here seems to prevent the event from being handled anywhere else\n                    setTimeout(function () {\n                        _this.store.dispatch(comments_2.setFocusedComment(null, { updatePinnedComment: true, forceFocus: false }));\n                    }, 200);\n                }\n            }\n        });\n        document.body.addEventListener('commentAnchorVisibilityChange', function () {\n            // If any streamfield blocks or panels have collapsed or expanded\n            // check if we need to rerender\n            _this.layout.refreshDesiredPositions(_this.store.getState().settings.currentTab);\n            if (_this.layout.refreshLayout()) {\n                render();\n            }\n        });\n    };\n    return CommentApp;\n}());\nexports.CommentApp = CommentApp;\nfunction initCommentApp() {\n    return new CommentApp();\n}\nexports.initCommentApp = initCommentApp;\n","\"use strict\";\nvar __read = (this && this.__read) || function (o, n) {\n    var m = typeof Symbol === \"function\" && o[Symbol.iterator];\n    if (!m) return o;\n    var i = m.call(o), r, ar = [], e;\n    try {\n        while ((n === void 0 || n-- > 0) && !(r = i.next()).done) ar.push(r.value);\n    }\n    catch (error) { e = { error: error }; }\n    finally {\n        try {\n            if (r && !r.done && (m = i[\"return\"])) m.call(i);\n        }\n        finally { if (e) throw e.error; }\n    }\n    return ar;\n};\nvar __spreadArray = (this && this.__spreadArray) || function (to, from) {\n    for (var i = 0, il = from.length, j = to.length; i < il; i++, j++)\n        to[j] = from[i];\n    return to;\n};\nexports.__esModule = true;\nexports.selectCommentCount = exports.selectIsDirty = exports.selectEnabled = exports.selectCommentFactory = exports.selectCommentsForContentPathFactory = exports.selectRemoteCommentCount = exports.selectFocused = exports.selectComments = void 0;\nvar reselect_1 = require(\"reselect\");\nvar selectComments = function (state) { return state.comments.comments; };\nexports.selectComments = selectComments;\nvar selectFocused = function (state) { return state.comments.focusedComment; };\nexports.selectFocused = selectFocused;\nvar selectRemoteCommentCount = function (state) { return state.comments.remoteCommentCount; };\nexports.selectRemoteCommentCount = selectRemoteCommentCount;\nfunction selectCommentsForContentPathFactory(contentpath) {\n    return reselect_1.createSelector(exports.selectComments, function (comments) {\n        return __spreadArray([], __read(comments.values())).filter(function (comment) {\n            return comment.contentpath === contentpath && !(comment.deleted || comment.resolved);\n        });\n    });\n}\nexports.selectCommentsForContentPathFactory = selectCommentsForContentPathFactory;\nfunction selectCommentFactory(localId) {\n    return reselect_1.createSelector(exports.selectComments, function (comments) {\n        var comment = comments.get(localId);\n        if (comment !== undefined && (comment.deleted || comment.resolved)) {\n            return undefined;\n        }\n        return comment;\n    });\n}\nexports.selectCommentFactory = selectCommentFactory;\nvar selectEnabled = function (state) { return state.settings.commentsEnabled; };\nexports.selectEnabled = selectEnabled;\nexports.selectIsDirty = reselect_1.createSelector(exports.selectComments, exports.selectRemoteCommentCount, function (comments, remoteCommentCount) {\n    if (remoteCommentCount !== comments.size) {\n        return true;\n    }\n    return Array.from(comments.values()).some(function (comment) {\n        if (comment.deleted ||\n            comment.resolved ||\n            comment.replies.size !== comment.remoteReplyCount ||\n            comment.originalText !== comment.text) {\n            return true;\n        }\n        return Array.from(comment.replies.values()).some(function (reply) { return reply.deleted || reply.originalText !== reply.text; });\n    });\n});\nvar selectCommentCount = function (state) { return (__spreadArray([], __read(state.comments.comments.values())).filter(function (comment) { return !comment.deleted && !comment.resolved; }).length); };\nexports.selectCommentCount = selectCommentCount;\n","\"use strict\";\nvar __createBinding = (this && this.__createBinding) || (Object.create ? (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    Object.defineProperty(o, k2, { enumerable: true, get: function() { return m[k]; } });\n}) : (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    o[k2] = m[k];\n}));\nvar __setModuleDefault = (this && this.__setModuleDefault) || (Object.create ? (function(o, v) {\n    Object.defineProperty(o, \"default\", { enumerable: true, value: v });\n}) : function(o, v) {\n    o[\"default\"] = v;\n});\nvar __importStar = (this && this.__importStar) || function (mod) {\n    if (mod && mod.__esModule) return mod;\n    var result = {};\n    if (mod != null) for (var k in mod) if (k !== \"default\" && Object.prototype.hasOwnProperty.call(mod, k)) __createBinding(result, mod, k);\n    __setModuleDefault(result, mod);\n    return result;\n};\nvar __values = (this && this.__values) || function(o) {\n    var s = typeof Symbol === \"function\" && Symbol.iterator, m = s && o[s], i = 0;\n    if (m) return m.call(o);\n    if (o && typeof o.length === \"number\") return {\n        next: function () {\n            if (o && i >= o.length) o = void 0;\n            return { value: o && o[i++], done: !o };\n        }\n    };\n    throw new TypeError(s ? \"Object is not iterable.\" : \"Symbol.iterator is not defined.\");\n};\nexports.__esModule = true;\nexports.reducer = exports.INITIAL_STATE = exports.newComment = exports.newCommentReply = void 0;\nvar actions = __importStar(require(\"../actions/comments\"));\nvar utils_1 = require(\"./utils\");\nvar immer_1 = __importStar(require(\"immer\"));\nimmer_1.enableES5();\nimmer_1.enableMapSet();\nfunction newCommentReply(localId, author, date, _a) {\n    var _b = _a.remoteId, remoteId = _b === void 0 ? null : _b, _c = _a.mode, mode = _c === void 0 ? 'default' : _c, _d = _a.text, text = _d === void 0 ? '' : _d, _e = _a.deleted, deleted = _e === void 0 ? false : _e;\n    return {\n        localId: localId,\n        remoteId: remoteId,\n        mode: mode,\n        author: author,\n        date: date,\n        text: text,\n        originalText: text,\n        newText: '',\n        deleted: deleted,\n    };\n}\nexports.newCommentReply = newCommentReply;\nfunction newComment(contentpath, position, localId, annotation, author, date, _a) {\n    var _b = _a.remoteId, remoteId = _b === void 0 ? null : _b, _c = _a.mode, mode = _c === void 0 ? 'default' : _c, _d = _a.text, text = _d === void 0 ? '' : _d, _e = _a.resolved, resolved = _e === void 0 ? false : _e, _f = _a.deleted, deleted = _f === void 0 ? false : _f, _g = _a.replies, replies = _g === void 0 ? new Map() : _g;\n    return {\n        contentpath: contentpath,\n        position: position,\n        localId: localId,\n        annotation: annotation,\n        remoteId: remoteId,\n        mode: mode,\n        author: author,\n        date: date,\n        text: text,\n        originalText: text,\n        replies: replies,\n        newReply: '',\n        newText: '',\n        deleted: deleted,\n        resolved: resolved,\n        remoteReplyCount: Array.from(replies.values()).reduce(function (n, reply) { return (reply.remoteId !== null ? n + 1 : n); }, 0),\n    };\n}\nexports.newComment = newComment;\nexports.INITIAL_STATE = {\n    comments: new Map(),\n    forceFocus: false,\n    focusedComment: null,\n    pinnedComment: null,\n    remoteCommentCount: 0,\n};\nexports.reducer = immer_1[\"default\"](function (draft, action) {\n    var e_1, _a;\n    /* eslint-disable no-param-reassign */\n    var deleteComment = function (comment) {\n        if (!comment.remoteId) {\n            // If the comment doesn't exist in the database, there's no need to keep it around locally\n            draft.comments[\"delete\"](comment.localId);\n        }\n        else {\n            comment.deleted = true;\n        }\n        // Unset focusedComment if the focused comment is the one being deleted\n        if (draft.focusedComment === comment.localId) {\n            draft.focusedComment = null;\n            draft.forceFocus = false;\n        }\n        if (draft.pinnedComment === comment.localId) {\n            draft.pinnedComment = null;\n        }\n    };\n    var resolveComment = function (comment) {\n        if (!comment.remoteId) {\n            // If the comment doesn't exist in the database, there's no need to keep it around locally\n            draft.comments[\"delete\"](comment.localId);\n        }\n        else {\n            comment.resolved = true;\n        }\n        // Unset focusedComment if the focused comment is the one being resolved\n        if (draft.focusedComment === comment.localId) {\n            draft.focusedComment = null;\n        }\n        if (draft.pinnedComment === comment.localId) {\n            draft.pinnedComment = null;\n        }\n    };\n    switch (action.type) {\n        case actions.ADD_COMMENT: {\n            draft.comments.set(action.comment.localId, action.comment);\n            if (action.comment.remoteId) {\n                draft.remoteCommentCount += 1;\n            }\n            break;\n        }\n        case actions.UPDATE_COMMENT: {\n            var comment = draft.comments.get(action.commentId);\n            if (comment) {\n                if (action.update.newText && action.update.newText.length === 0) {\n                    break;\n                }\n                utils_1.update(comment, action.update);\n            }\n            break;\n        }\n        case actions.DELETE_COMMENT: {\n            var comment = draft.comments.get(action.commentId);\n            if (!comment) {\n                break;\n            }\n            deleteComment(comment);\n            break;\n        }\n        case actions.RESOLVE_COMMENT: {\n            var comment = draft.comments.get(action.commentId);\n            if (!comment) {\n                break;\n            }\n            resolveComment(comment);\n            break;\n        }\n        case actions.SET_FOCUSED_COMMENT: {\n            if ((action.commentId === null) || (draft.comments.has(action.commentId))) {\n                draft.focusedComment = action.commentId;\n                if (action.updatePinnedComment) {\n                    draft.pinnedComment = action.commentId;\n                }\n                draft.forceFocus = action.forceFocus;\n            }\n            break;\n        }\n        case actions.ADD_REPLY: {\n            var comment = draft.comments.get(action.commentId);\n            if ((!comment) || action.reply.text.length === 0) {\n                break;\n            }\n            if (action.reply.remoteId) {\n                comment.remoteReplyCount += 1;\n            }\n            comment.replies.set(action.reply.localId, action.reply);\n            break;\n        }\n        case actions.UPDATE_REPLY: {\n            var comment = draft.comments.get(action.commentId);\n            if (!comment) {\n                break;\n            }\n            var reply = comment.replies.get(action.replyId);\n            if (!reply) {\n                break;\n            }\n            if (action.update.newText && action.update.newText.length === 0) {\n                break;\n            }\n            utils_1.update(reply, action.update);\n            break;\n        }\n        case actions.DELETE_REPLY: {\n            var comment = draft.comments.get(action.commentId);\n            if (!comment) {\n                break;\n            }\n            var reply = comment.replies.get(action.replyId);\n            if (!reply) {\n                break;\n            }\n            if (!reply.remoteId) {\n                // The reply doesn't exist in the database, so we don't need to store it locally\n                comment.replies[\"delete\"](reply.localId);\n            }\n            else {\n                reply.deleted = true;\n            }\n            break;\n        }\n        case actions.INVALIDATE_CONTENT_PATH: {\n            // Delete any comments that exist in the contentpath\n            var comments = draft.comments;\n            try {\n                for (var _b = __values(comments.values()), _c = _b.next(); !_c.done; _c = _b.next()) {\n                    var comment = _c.value;\n                    if (comment.contentpath.startsWith(action.contentPath)) {\n                        resolveComment(comment);\n                    }\n                }\n            }\n            catch (e_1_1) { e_1 = { error: e_1_1 }; }\n            finally {\n                try {\n                    if (_c && !_c.done && (_a = _b[\"return\"])) _a.call(_b);\n                }\n                finally { if (e_1) throw e_1.error; }\n            }\n            break;\n        }\n        default:\n            break;\n    }\n}, exports.INITIAL_STATE);\n","\"use strict\";\nexports.__esModule = true;\nexports.reducer = void 0;\nvar redux_1 = require(\"redux\");\nvar comments_1 = require(\"./comments\");\nvar settings_1 = require(\"./settings\");\nexports.reducer = redux_1.combineReducers({\n    comments: comments_1.reducer,\n    settings: settings_1.reducer,\n});\n","\"use strict\";\nvar __createBinding = (this && this.__createBinding) || (Object.create ? (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    Object.defineProperty(o, k2, { enumerable: true, get: function() { return m[k]; } });\n}) : (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    o[k2] = m[k];\n}));\nvar __setModuleDefault = (this && this.__setModuleDefault) || (Object.create ? (function(o, v) {\n    Object.defineProperty(o, \"default\", { enumerable: true, value: v });\n}) : function(o, v) {\n    o[\"default\"] = v;\n});\nvar __importStar = (this && this.__importStar) || function (mod) {\n    if (mod && mod.__esModule) return mod;\n    var result = {};\n    if (mod != null) for (var k in mod) if (k !== \"default\" && Object.prototype.hasOwnProperty.call(mod, k)) __createBinding(result, mod, k);\n    __setModuleDefault(result, mod);\n    return result;\n};\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nexports.__esModule = true;\nexports.reducer = exports.INITIAL_STATE = void 0;\nvar actions = __importStar(require(\"../actions/settings\"));\nvar utils_1 = require(\"./utils\");\nvar immer_1 = __importDefault(require(\"immer\"));\n// Reducer with initial state\nexports.INITIAL_STATE = {\n    user: null,\n    commentsEnabled: false,\n    currentTab: null,\n};\nexports.reducer = immer_1[\"default\"](function (draft, action) {\n    switch (action.type) {\n        case actions.UPDATE_GLOBAL_SETTINGS:\n            utils_1.update(draft, action.update);\n            break;\n        default:\n            break;\n    }\n}, exports.INITIAL_STATE);\n","\"use strict\";\nexports.__esModule = true;\nexports.update = void 0;\nfunction update(base, updatePartial) {\n    return Object.assign(base, updatePartial);\n}\nexports.update = update;\n","\"use strict\";\nvar __read = (this && this.__read) || function (o, n) {\n    var m = typeof Symbol === \"function\" && o[Symbol.iterator];\n    if (!m) return o;\n    var i = m.call(o), r, ar = [], e;\n    try {\n        while ((n === void 0 || n-- > 0) && !(r = i.next()).done) ar.push(r.value);\n    }\n    catch (error) { e = { error: error }; }\n    finally {\n        try {\n            if (r && !r.done && (m = i[\"return\"])) m.call(i);\n        }\n        finally { if (e) throw e.error; }\n    }\n    return ar;\n};\nvar __values = (this && this.__values) || function(o) {\n    var s = typeof Symbol === \"function\" && Symbol.iterator, m = s && o[s], i = 0;\n    if (m) return m.call(o);\n    if (o && typeof o.length === \"number\") return {\n        next: function () {\n            if (o && i >= o.length) o = void 0;\n            return { value: o && o[i++], done: !o };\n        }\n    };\n    throw new TypeError(s ? \"Object is not iterable.\" : \"Symbol.iterator is not defined.\");\n};\nvar __spreadArray = (this && this.__spreadArray) || function (to, from) {\n    for (var i = 0, il = from.length, j = to.length; i < il; i++, j++)\n        to[j] = from[i];\n    return to;\n};\nexports.__esModule = true;\nexports.LayoutController = void 0;\nvar maps_1 = require(\"./maps\");\nvar GAP = 20.0; // Gap between comments in pixels\nvar TOP_MARGIN = 100.0; // Spacing from the top to the first comment in pixels\nvar OFFSET = -50; // How many pixels from the annotation position should the comments be placed?\nvar LayoutController = /** @class */ (function () {\n    function LayoutController() {\n        this.commentElements = new Map();\n        this.commentAnnotations = new Map();\n        this.commentTabs = new Map();\n        this.commentDesiredPositions = new Map();\n        this.commentHeights = new Map();\n        this.pinnedComment = null;\n        this.commentCalculatedPositions = new Map();\n        this.isDirty = false;\n    }\n    LayoutController.prototype.setCommentElement = function (commentId, element) {\n        if (element !== null) {\n            this.commentElements.set(commentId, element);\n        }\n        else {\n            this.commentElements[\"delete\"](commentId);\n        }\n        this.isDirty = true;\n    };\n    LayoutController.prototype.setCommentAnnotation = function (commentId, annotation) {\n        this.commentAnnotations.set(commentId, annotation);\n        this.commentTabs.set(commentId, annotation.getTab() || null);\n        this.updateDesiredPosition(commentId);\n        this.isDirty = true;\n    };\n    LayoutController.prototype.setCommentHeight = function (commentId, height) {\n        if (this.commentHeights.get(commentId) !== height) {\n            this.commentHeights.set(commentId, height);\n            this.isDirty = true;\n        }\n    };\n    LayoutController.prototype.setPinnedComment = function (commentId) {\n        this.pinnedComment = commentId;\n        this.isDirty = true;\n    };\n    LayoutController.prototype.updateDesiredPosition = function (commentId) {\n        var annotation = this.commentAnnotations.get(commentId);\n        if (!annotation) {\n            return;\n        }\n        var currentNodeTop = annotation.getAnchorNode(commentId === this.pinnedComment).getBoundingClientRect().top;\n        this.commentDesiredPositions.set(commentId, currentNodeTop !== 0 ? currentNodeTop + document.documentElement.scrollTop + OFFSET : 0);\n    };\n    LayoutController.prototype.refreshDesiredPositions = function (tab) {\n        var _this = this;\n        if (tab === void 0) { tab = null; }\n        /* Finds the current annotation positions of all the comments on the specified tab */\n        var oldDesiredPositions = new Map(this.commentDesiredPositions);\n        this.commentAnnotations.forEach(function (_, commentId) {\n            if (_this.getCommentTabVisible(tab, commentId)) {\n                _this.updateDesiredPosition(commentId);\n            }\n        });\n        // It's not great to be recalculating all positions so regularly, but Wagtail's FE widgets\n        // aren't very constrained so could change layout in any number of ways. If we have a stable FE\n        // widget framework in the future, this could be used to trigger the position refresh more\n        // intelligently, or alternatively once comments is incorporated into the page form, a\n        // MutationObserver could potentially track most types of changes.\n        if (this.commentDesiredPositions !== oldDesiredPositions) {\n            this.isDirty = true;\n        }\n    };\n    LayoutController.prototype.refreshLayout = function () {\n        var _this = this;\n        /* Updates positions of all comments based on their annotation locations, and resolves any overlapping comments */\n        if (!this.isDirty) {\n            return false;\n        }\n        // Build list of blocks (starting with one for each comment)\n        var allBlocks = Array.from(this.commentElements.keys()).map(function (commentId) { return ({\n            tab: maps_1.getOrDefault(_this.commentTabs, commentId, null),\n            position: maps_1.getOrDefault(_this.commentDesiredPositions, commentId, 0),\n            height: maps_1.getOrDefault(_this.commentHeights, commentId, 0),\n            comments: [commentId],\n            containsPinnedComment: _this.pinnedComment !== null && commentId === _this.pinnedComment,\n            pinnedCommentPosition: 0,\n        }); });\n        // Group blocks by tabs\n        var blocksByTab = new Map();\n        allBlocks.forEach(function (block) {\n            var blocks = blocksByTab.get(block.tab) || [];\n            blocks.push(block);\n            blocksByTab.set(block.tab, blocks);\n        });\n        // Get location of pinned comment\n        var pinnedCommentPosition = this.pinnedComment ?\n            this.commentDesiredPositions.get(this.pinnedComment) : undefined;\n        var pinnedCommentTab = this.pinnedComment ?\n            this.commentTabs.get(this.pinnedComment) : undefined;\n        // For each tab, resolve positions of all the comments\n        Array.from(blocksByTab.entries()).forEach(function (_a) {\n            var e_1, _b, _c;\n            var _d = __read(_a, 2), tab = _d[0], blocks = _d[1];\n            var pinnedCommentOnThisTab = _this.pinnedComment && pinnedCommentTab === tab;\n            // Sort blocks\n            blocks.sort(function (block, comparisonBlock) { return block.position - comparisonBlock.position; });\n            // Resolve overlapping blocks\n            var currentBlocks = blocks;\n            var overlaps = true;\n            while (overlaps) {\n                overlaps = false;\n                var newBlocks = [];\n                var previousBlock = null;\n                try {\n                    for (var currentBlocks_1 = (e_1 = void 0, __values(currentBlocks)), currentBlocks_1_1 = currentBlocks_1.next(); !currentBlocks_1_1.done; currentBlocks_1_1 = currentBlocks_1.next()) {\n                        var block = currentBlocks_1_1.value;\n                        if (previousBlock) {\n                            if (previousBlock.position + previousBlock.height + GAP >\n                                block.position) {\n                                overlaps = true;\n                                // Merge the blocks\n                                (_c = previousBlock.comments).push.apply(_c, __spreadArray([], __read(block.comments)));\n                                if (block.containsPinnedComment) {\n                                    previousBlock.containsPinnedComment = true;\n                                    previousBlock.pinnedCommentPosition =\n                                        block.pinnedCommentPosition + previousBlock.height;\n                                }\n                                previousBlock.height += block.height;\n                                // Make sure comments don't disappear off the top of the page\n                                // But only if a comment isn't focused\n                                if (!pinnedCommentOnThisTab &&\n                                    previousBlock.position < TOP_MARGIN + OFFSET) {\n                                    previousBlock.position =\n                                        TOP_MARGIN + previousBlock.height - OFFSET;\n                                }\n                                // If this block contains the focused comment, position it so\n                                // the focused comment is in it's desired position\n                                if (pinnedCommentPosition &&\n                                    previousBlock.containsPinnedComment) {\n                                    previousBlock.position =\n                                        pinnedCommentPosition -\n                                            previousBlock.pinnedCommentPosition;\n                                }\n                                continue;\n                            }\n                        }\n                        newBlocks.push(block);\n                        previousBlock = block;\n                    }\n                }\n                catch (e_1_1) { e_1 = { error: e_1_1 }; }\n                finally {\n                    try {\n                        if (currentBlocks_1_1 && !currentBlocks_1_1.done && (_b = currentBlocks_1[\"return\"])) _b.call(currentBlocks_1);\n                    }\n                    finally { if (e_1) throw e_1.error; }\n                }\n                currentBlocks = newBlocks;\n            }\n            // Write positions\n            currentBlocks.forEach(function (block) {\n                var currentPosition = block.position;\n                block.comments.forEach(function (commentId) {\n                    _this.commentCalculatedPositions.set(commentId, currentPosition);\n                    var height = _this.commentHeights.get(commentId);\n                    if (height) {\n                        currentPosition += height + GAP;\n                    }\n                });\n            });\n        });\n        this.isDirty = false;\n        return true;\n    };\n    LayoutController.prototype.getCommentTabVisible = function (tab, commentId) {\n        var commentTab = maps_1.getOrDefault(this.commentTabs, commentId, null);\n        return commentTab === tab;\n    };\n    LayoutController.prototype.getCommentVisible = function (tab, commentId) {\n        return this.getCommentTabVisible(tab, commentId) && maps_1.getOrDefault(this.commentDesiredPositions, commentId, 1) > 0;\n    };\n    LayoutController.prototype.getCommentPosition = function (commentId) {\n        if (this.commentCalculatedPositions.has(commentId)) {\n            return this.commentCalculatedPositions.get(commentId);\n        }\n        return this.commentDesiredPositions.get(commentId);\n    };\n    return LayoutController;\n}());\nexports.LayoutController = LayoutController;\n","\"use strict\";\nexports.__esModule = true;\nexports.getOrDefault = void 0;\nfunction getOrDefault(map, key, defaultValue) {\n    var value = map.get(key);\n    if (typeof value === 'undefined') {\n        return defaultValue;\n    }\n    return value;\n}\nexports.getOrDefault = getOrDefault;\n","\"use strict\";\nexports.__esModule = true;\nexports.getNextReplyId = exports.getNextCommentId = void 0;\nvar nextCommentId = 1;\nvar nextReplyId = 1;\nfunction getNextCommentId() {\n    return nextCommentId++;\n}\nexports.getNextCommentId = getNextCommentId;\nfunction getNextReplyId() {\n    return nextReplyId++;\n}\nexports.getNextReplyId = getNextReplyId;\n","\"use strict\";\nexports.__esModule = true;\nvar main_1 = require(\"../../components/CommentApp/main\");\nvar wagtailConfig_1 = require(\"../../config/wagtailConfig\");\nvar KEYCODE_M = 77;\n/**\n * Entry point loaded when the comments system is in use.\n */\nwindow.comments = (function () {\n    var commentApp = main_1.initCommentApp();\n    /**\n    * Returns true if the provided keyboard event is using the 'add/focus comment' keyboard\n    * shortcut\n    */\n    function isCommentShortcut(e) {\n        return (e.ctrlKey || e.metaKey) && e.altKey && e.keyCode === KEYCODE_M;\n    }\n    function getContentPath(fieldNode) {\n        // Return the total contentpath for an element as a string, in the form field.streamfield_uid.block...\n        if (fieldNode.closest('data-contentpath-disabled')) {\n            return '';\n        }\n        var element = fieldNode.closest('[data-contentpath]');\n        var contentpaths = [];\n        while (element !== null) {\n            contentpaths.push(element.dataset.contentpath);\n            element = element.parentElement.closest('[data-contentpath]');\n        }\n        contentpaths.reverse();\n        return contentpaths.join('.');\n    }\n    /**\n     * Controls the positioning of a field level comment, and the display of the button\n     * used to focus and pin the attached comment\n     * `getAnchorNode` is called by the comments app to determine which node to\n     * float the comment alongside\n     */\n    var BasicFieldLevelAnnotation = /** @class */ (function () {\n        /**\n        * Create a field-level annotation\n        * @param {Element} fieldNode - an element to provide the comment position\n        * @param {Element} node - the button to focus/pin the comment\n        */\n        function BasicFieldLevelAnnotation(fieldNode, node) {\n            this.node = node;\n            this.fieldNode = fieldNode;\n            this.unsubscribe = null;\n        }\n        /**\n        * Subscribes the annotation to update when the state of a particular comment changes,\n        * and to focus that comment when clicked\n        * @param {number} localId - the localId of the comment to subscribe to\n        */\n        BasicFieldLevelAnnotation.prototype.subscribeToUpdates = function (localId) {\n            var _this = this;\n            var _a = commentApp.selectors, selectFocused = _a.selectFocused, selectEnabled = _a.selectEnabled;\n            var selectComment = commentApp.utils.selectCommentFactory(localId);\n            var store = commentApp.store;\n            var initialState = store.getState();\n            var focused = selectFocused(initialState) === localId;\n            var shown = selectEnabled(initialState);\n            if (focused) {\n                this.onFocus();\n            }\n            if (shown) {\n                this.show();\n            }\n            this.unsubscribe = store.subscribe(function () {\n                var state = store.getState();\n                var comment = selectComment(state);\n                if (!comment) {\n                    _this.onDelete();\n                }\n                var nowFocused = (selectFocused(state) === localId);\n                if (nowFocused !== focused) {\n                    if (focused) {\n                        _this.onUnfocus();\n                    }\n                    else {\n                        _this.onFocus();\n                    }\n                    focused = nowFocused;\n                }\n                if (shown !== selectEnabled(state)) {\n                    if (shown) {\n                        _this.hide();\n                    }\n                    else {\n                        _this.show();\n                    }\n                    shown = selectEnabled(state);\n                }\n            });\n            this.setOnClickHandler(localId);\n        };\n        BasicFieldLevelAnnotation.prototype.onDelete = function () {\n            // IE11\n            if (!this.node.remove) {\n                this.node.parentNode.removeChild(this.node);\n            }\n            else {\n                this.node.remove();\n            }\n            if (this.unsubscribe) {\n                this.unsubscribe();\n            }\n        };\n        BasicFieldLevelAnnotation.prototype.onFocus = function () {\n            this.node.classList.remove('button-secondary');\n            this.node.ariaLabel = wagtailConfig_1.STRINGS.UNFOCUS_COMMENT;\n        };\n        BasicFieldLevelAnnotation.prototype.onUnfocus = function () {\n            this.node.classList.add('button-secondary');\n            this.node.ariaLabel = wagtailConfig_1.STRINGS.FOCUS_COMMENT;\n            // TODO: ensure comment is focused accessibly when this is clicked,\n            // and that screenreader users can return to the annotation point when desired\n        };\n        BasicFieldLevelAnnotation.prototype.show = function () {\n            this.node.classList.remove('u-hidden');\n        };\n        BasicFieldLevelAnnotation.prototype.hide = function () {\n            this.node.classList.add('u-hidden');\n        };\n        BasicFieldLevelAnnotation.prototype.setOnClickHandler = function (localId) {\n            this.node.addEventListener('click', function () {\n                commentApp.store.dispatch(commentApp.actions.setFocusedComment(localId, { updatePinnedComment: true, forceFocus: true }));\n            });\n        };\n        BasicFieldLevelAnnotation.prototype.getTab = function () {\n            var _a;\n            return (_a = this.fieldNode.closest('section[data-tab]')) === null || _a === void 0 ? void 0 : _a.getAttribute('data-tab');\n        };\n        BasicFieldLevelAnnotation.prototype.getAnchorNode = function () {\n            return this.fieldNode;\n        };\n        return BasicFieldLevelAnnotation;\n    }());\n    var FieldLevelCommentWidget = /** @class */ (function () {\n        function FieldLevelCommentWidget(_a) {\n            var fieldNode = _a.fieldNode, commentAdditionNode = _a.commentAdditionNode, annotationTemplateNode = _a.annotationTemplateNode;\n            this.fieldNode = fieldNode;\n            this.contentpath = getContentPath(fieldNode);\n            this.commentAdditionNode = commentAdditionNode;\n            this.annotationTemplateNode = annotationTemplateNode;\n            this.shown = false;\n        }\n        FieldLevelCommentWidget.prototype.register = function () {\n            var _this = this;\n            var selectEnabled = commentApp.selectors.selectEnabled;\n            var initialState = commentApp.store.getState();\n            var currentlyEnabled = selectEnabled(initialState);\n            var selectCommentsForContentPath = commentApp.utils.selectCommentsForContentPathFactory(this.contentpath);\n            var currentComments = selectCommentsForContentPath(initialState);\n            this.updateVisibility(currentComments.length === 0 && currentlyEnabled);\n            var unsubscribeWidget = commentApp.store.subscribe(function () {\n                var state = commentApp.store.getState();\n                var newComments = selectCommentsForContentPath(state);\n                var newEnabled = selectEnabled(state);\n                var commentsChanged = (currentComments !== newComments);\n                var enabledChanged = (currentlyEnabled !== newEnabled);\n                if (commentsChanged) {\n                    // Add annotations for any new comments\n                    currentComments = newComments;\n                    currentComments.filter(function (comment) { return comment.annotation === null; }).forEach(function (comment) {\n                        var annotation = _this.getAnnotationForComment(comment);\n                        commentApp.updateAnnotation(annotation, comment.localId);\n                        annotation.subscribeToUpdates(comment.localId);\n                    });\n                }\n                if (enabledChanged || commentsChanged) {\n                    // If comments have been enabled or disabled, or the comments have changed\n                    // check whether to show the widget (if comments are enabled and there are no existing comments)\n                    currentlyEnabled = newEnabled;\n                    _this.updateVisibility(currentComments.length === 0 && currentlyEnabled);\n                }\n            });\n            initialState.comments.comments.forEach(function (comment) {\n                // Add annotations for any comments already in the store\n                if (comment.contentpath === _this.contentpath) {\n                    var annotation = _this.getAnnotationForComment(comment);\n                    commentApp.updateAnnotation(annotation, comment.localId);\n                    annotation.subscribeToUpdates(comment.localId);\n                }\n            });\n            var addComment = function () {\n                var annotation = _this.getAnnotationForComment();\n                var localId = commentApp.makeComment(annotation, _this.contentpath);\n                annotation.subscribeToUpdates(localId);\n            };\n            this.commentAdditionNode.addEventListener('click', function () {\n                // Make the widget button clickable to add a comment\n                addComment();\n            });\n            this.fieldNode.addEventListener('keyup', function (e) {\n                if (currentlyEnabled && isCommentShortcut(e)) {\n                    if (currentComments.length === 0) {\n                        addComment();\n                    }\n                    else {\n                        commentApp.store.dispatch(commentApp.actions.setFocusedComment(currentComments[0].localId, { updatePinnedComment: true, forceFocus: true }));\n                    }\n                }\n            });\n            return unsubscribeWidget; // TODO: listen for widget deletion and use this\n        };\n        FieldLevelCommentWidget.prototype.updateVisibility = function (newShown) {\n            if (newShown === this.shown) {\n                return;\n            }\n            this.shown = newShown;\n            if (!this.shown) {\n                this.commentAdditionNode.classList.add('u-hidden');\n            }\n            else {\n                this.commentAdditionNode.classList.remove('u-hidden');\n            }\n        };\n        FieldLevelCommentWidget.prototype.getAnnotationForComment = function () {\n            var annotationNode = this.annotationTemplateNode.cloneNode(true);\n            annotationNode.id = '';\n            annotationNode.classList.remove('u-hidden');\n            this.commentAdditionNode.insertAdjacentElement('afterend', annotationNode);\n            return new BasicFieldLevelAnnotation(this.fieldNode, annotationNode, commentApp);\n        };\n        return FieldLevelCommentWidget;\n    }());\n    function initAddCommentButton(buttonElement) {\n        var widget = new FieldLevelCommentWidget({\n            fieldNode: buttonElement.closest('[data-contentpath]'),\n            commentAdditionNode: buttonElement,\n            annotationTemplateNode: document.querySelector('#comment-icon'),\n        });\n        if (widget.contentpath) {\n            widget.register();\n        }\n    }\n    function initCommentsInterface(formElement) {\n        var commentsElement = document.getElementById('comments');\n        var commentsOutputElement = document.getElementById('comments-output');\n        var dataElement = document.getElementById('comments-data');\n        if (!commentsElement || !commentsOutputElement || !dataElement) {\n            throw new Error('Comments app failed to initialise. Missing HTML element');\n        }\n        var data = JSON.parse(dataElement.textContent);\n        commentApp.renderApp(commentsElement, commentsOutputElement, data.user, data.comments, new Map(Object.entries(data.authors)), wagtailConfig_1.STRINGS);\n        Array.from(formElement.querySelectorAll('[data-component=\"add-comment-button\"]')).forEach(initAddCommentButton);\n        // Attach the commenting app to the tab navigation, if it exists\n        var tabNavElement = formElement.querySelector('[data-tab-nav]');\n        if (tabNavElement) {\n            commentApp.setCurrentTab(tabNavElement.dataset.currentTab);\n            tabNavElement.addEventListener('switch', function (e) {\n                commentApp.setCurrentTab(e.detail.tab);\n            });\n        }\n        // Comments toggle\n        var commentToggleWrapper = formElement.querySelector('.comments-toggle');\n        var commentToggle = formElement.querySelector('.comments-toggle input[type=checkbox]');\n        var tabContentElement = formElement.querySelector('.tab-content');\n        var commentNotificationsToggleButton = formElement.querySelector('.comment-notifications-toggle-button');\n        var commentNotificationsDropdown = formElement.querySelector('.comment-notifications-dropdown');\n        var updateCommentVisibility = function (visible) {\n            // Show/hide comments\n            commentApp.setVisible(visible);\n            // Add/Remove tab-nav--comments-enabled class. This changes the size of streamfields\n            if (visible) {\n                tabContentElement.classList.add('tab-content--comments-enabled');\n                commentToggleWrapper.classList.add('comments-toggle--active');\n                commentNotificationsToggleButton.classList.add('comment-notifications-toggle-button--active');\n            }\n            else {\n                tabContentElement.classList.remove('tab-content--comments-enabled');\n                commentToggleWrapper.classList.remove('comments-toggle--active');\n                commentNotificationsToggleButton.classList.remove('comment-notifications-toggle-button--active');\n                commentNotificationsDropdown.classList.remove('comment-notifications-dropdown--active');\n                commentNotificationsToggleButton.classList.remove('comment-notifications-toggle-button--icon-toggle');\n            }\n        };\n        commentNotificationsToggleButton.addEventListener('click', function () {\n            commentNotificationsDropdown.classList.toggle('comment-notifications-dropdown--active');\n            commentNotificationsToggleButton.classList.toggle('comment-notifications-toggle-button--icon-toggle');\n        });\n        commentToggle.addEventListener('change', function (e) {\n            updateCommentVisibility(e.target.checked);\n        });\n        updateCommentVisibility(commentToggle.checked);\n        // Keep number of comments up to date with comment app\n        var commentCounter = formElement.querySelector('.comments-toggle__count');\n        var updateCommentCount = function () {\n            var commentCount = commentApp.selectors.selectCommentCount(commentApp.store.getState());\n            if (commentCount > 0) {\n                commentCounter.innerText = commentCount.toString();\n            }\n            else {\n                // Note: CSS will hide the circle when its content is empty\n                commentCounter.innerText = '';\n            }\n        };\n        commentApp.store.subscribe(updateCommentCount);\n        updateCommentCount();\n    }\n    return {\n        commentApp: commentApp,\n        getContentPath: getContentPath,\n        isCommentShortcut: isCommentShortcut,\n        initAddCommentButton: initAddCommentButton,\n        initCommentsInterface: initCommentsInterface,\n    };\n})();\n","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tif(__webpack_module_cache__[moduleId]) {\n\t\treturn __webpack_module_cache__[moduleId].exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\tid: moduleId,\n\t\tloaded: false,\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n\t// Flag the module as loaded\n\tmodule.loaded = true;\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n// expose the modules object (__webpack_modules__)\n__webpack_require__.m = __webpack_modules__;\n\n// the startup function\n// It's empty as some runtime module handles the default behavior\n__webpack_require__.x = function() {}\n","// getDefaultExport function for compatibility with non-harmony modules\n__webpack_require__.n = function(module) {\n\tvar getter = module && module.__esModule ?\n\t\tfunction() { return module['default']; } :\n\t\tfunction() { return module; };\n\t__webpack_require__.d(getter, { a: getter });\n\treturn getter;\n};","// define getter functions for harmony exports\n__webpack_require__.d = function(exports, definition) {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.g = (function() {\n\tif (typeof globalThis === 'object') return globalThis;\n\ttry {\n\t\treturn this || new Function('return this')();\n\t} catch (e) {\n\t\tif (typeof window === 'object') return window;\n\t}\n})();","__webpack_require__.hmd = function(module) {\n\tmodule = Object.create(module);\n\tif (!module.children) module.children = [];\n\tObject.defineProperty(module, 'exports', {\n\t\tenumerable: true,\n\t\tset: function() {\n\t\t\tthrow new Error('ES Modules may not assign module.exports or exports.*, Use ESM export syntax, instead: ' + module.id);\n\t\t}\n\t});\n\treturn module;\n};","__webpack_require__.o = function(obj, prop) { return Object.prototype.hasOwnProperty.call(obj, prop); }","// define __esModule on exports\n__webpack_require__.r = function(exports) {\n\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n\t}\n\tObject.defineProperty(exports, '__esModule', { value: true });\n};","__webpack_require__.j = 324;","// no baseURI\n\n// object to store loaded and loading chunks\n// undefined = chunk not loaded, null = chunk preloaded/prefetched\n// Promise = chunk loading, 0 = chunk loaded\nvar installedChunks = {\n\t324: 0\n};\n\nvar deferredModules = [\n\t[68251,751],\n\t[90971,751]\n];\n// no chunk on demand loading\n\n// no prefetching\n\n// no preloaded\n\n// no HMR\n\n// no HMR manifest\n\nvar checkDeferredModules = function() {};\n\n// install a JSONP callback for chunk loading\nvar webpackJsonpCallback = function(parentChunkLoadingFunction, data) {\n\tvar chunkIds = data[0];\n\tvar moreModules = data[1];\n\tvar runtime = data[2];\n\tvar executeModules = data[3];\n\t// add \"moreModules\" to the modules object,\n\t// then flag all \"chunkIds\" as loaded and fire callback\n\tvar moduleId, chunkId, i = 0, resolves = [];\n\tfor(;i < chunkIds.length; i++) {\n\t\tchunkId = chunkIds[i];\n\t\tif(__webpack_require__.o(installedChunks, chunkId) && installedChunks[chunkId]) {\n\t\t\tresolves.push(installedChunks[chunkId][0]);\n\t\t}\n\t\tinstalledChunks[chunkId] = 0;\n\t}\n\tfor(moduleId in moreModules) {\n\t\tif(__webpack_require__.o(moreModules, moduleId)) {\n\t\t\t__webpack_require__.m[moduleId] = moreModules[moduleId];\n\t\t}\n\t}\n\tif(runtime) runtime(__webpack_require__);\n\tif(parentChunkLoadingFunction) parentChunkLoadingFunction(data);\n\twhile(resolves.length) {\n\t\tresolves.shift()();\n\t}\n\n\t// add entry modules from loaded chunk to deferred list\n\tif(executeModules) deferredModules.push.apply(deferredModules, executeModules);\n\n\t// run deferred modules when all chunks ready\n\treturn checkDeferredModules();\n}\n\nvar chunkLoadingGlobal = self[\"webpackChunkwagtail\"] = self[\"webpackChunkwagtail\"] || [];\nchunkLoadingGlobal.forEach(webpackJsonpCallback.bind(null, 0));\nchunkLoadingGlobal.push = webpackJsonpCallback.bind(null, chunkLoadingGlobal.push.bind(chunkLoadingGlobal));\n\nfunction checkDeferredModulesImpl() {\n\tvar result;\n\tfor(var i = 0; i < deferredModules.length; i++) {\n\t\tvar deferredModule = deferredModules[i];\n\t\tvar fulfilled = true;\n\t\tfor(var j = 1; j < deferredModule.length; j++) {\n\t\t\tvar depId = deferredModule[j];\n\t\t\tif(installedChunks[depId] !== 0) fulfilled = false;\n\t\t}\n\t\tif(fulfilled) {\n\t\t\tdeferredModules.splice(i--, 1);\n\t\t\tresult = __webpack_require__(__webpack_require__.s = deferredModule[0]);\n\t\t}\n\t}\n\tif(deferredModules.length === 0) {\n\t\t__webpack_require__.x();\n\t\t__webpack_require__.x = function() {};\n\t}\n\treturn result;\n}\nvar startup = __webpack_require__.x;\n__webpack_require__.x = function() {\n\t// reset startup function so it can be called again when more startup code is added\n\t__webpack_require__.x = startup || (function() {});\n\treturn (checkDeferredModules = checkDeferredModulesImpl)();\n};","// run startup\nreturn __webpack_require__.x();\n"],"sourceRoot":""}